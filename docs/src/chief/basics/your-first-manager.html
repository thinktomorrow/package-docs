<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Management basics | Docs</title>
    <meta name="description" content="Think Tomorrow documentation and guidelines">
    
    
    <link rel="preload" href="/package-docs/assets/css/0.styles.0f205980.css" as="style"><link rel="preload" href="/package-docs/assets/js/app.f4a796bf.js" as="script"><link rel="preload" href="/package-docs/assets/js/10.9f66b873.js" as="script"><link rel="prefetch" href="/package-docs/assets/js/2.861402b7.js"><link rel="prefetch" href="/package-docs/assets/js/3.20f3e153.js"><link rel="prefetch" href="/package-docs/assets/js/4.77d1723a.js"><link rel="prefetch" href="/package-docs/assets/js/5.ff9c7a83.js"><link rel="prefetch" href="/package-docs/assets/js/6.29e550ef.js"><link rel="prefetch" href="/package-docs/assets/js/7.8534cc92.js"><link rel="prefetch" href="/package-docs/assets/js/8.d1a61cee.js"><link rel="prefetch" href="/package-docs/assets/js/9.cb4dad23.js"><link rel="prefetch" href="/package-docs/assets/js/11.319a373d.js"><link rel="prefetch" href="/package-docs/assets/js/12.d81bbce6.js"><link rel="prefetch" href="/package-docs/assets/js/13.cff21e33.js"><link rel="prefetch" href="/package-docs/assets/js/14.45fb367c.js"><link rel="prefetch" href="/package-docs/assets/js/15.3e2ff97b.js"><link rel="prefetch" href="/package-docs/assets/js/16.6ed45ccc.js"><link rel="prefetch" href="/package-docs/assets/js/17.5c153c3a.js"><link rel="prefetch" href="/package-docs/assets/js/18.7239876e.js"><link rel="prefetch" href="/package-docs/assets/js/19.d16cf5f1.js"><link rel="prefetch" href="/package-docs/assets/js/20.7bab3a7f.js"><link rel="prefetch" href="/package-docs/assets/js/21.eafa29be.js"><link rel="prefetch" href="/package-docs/assets/js/22.cd8e87cf.js"><link rel="prefetch" href="/package-docs/assets/js/23.2394eefd.js"><link rel="prefetch" href="/package-docs/assets/js/24.b4f798dc.js"><link rel="prefetch" href="/package-docs/assets/js/25.b010345a.js">
    <link rel="stylesheet" href="/package-docs/assets/css/0.styles.0f205980.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/package-docs/" class="home-link router-link-active"><!----> <span class="site-name">Docs</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Model Management</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/package-docs/src/chief/basics/basics.html" class="sidebar-link">Basics</a></li><li><a href="/package-docs/src/chief/basics/fields.html" class="sidebar-link">Fields</a></li><li><a href="/package-docs/src/chief/basics/your-first-manager.html" class="active sidebar-link">Management basics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/package-docs/src/chief/basics/your-first-manager.html#setting-up-your-first-manager" class="sidebar-link">Setting up your first manager</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/basics/your-first-manager.html#creating-a-manager" class="sidebar-link">Creating a manager</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/basics/your-first-manager.html#registering-a-manager" class="sidebar-link">Registering a manager</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/basics/your-first-manager.html#navigation" class="sidebar-link">navigation</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/basics/your-first-manager.html#authorizing-actions" class="sidebar-link">Authorizing actions</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/basics/your-first-manager.html#validating-fields" class="sidebar-link">Validating fields</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Menus</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pages</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pagesets</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Fields</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="management-basics"><a href="#management-basics" aria-hidden="true" class="header-anchor">#</a> Management basics</h1> <h2 id="setting-up-your-first-manager"><a href="#setting-up-your-first-manager" aria-hidden="true" class="header-anchor">#</a> Setting up your first manager</h2> <p>Let's take a basic example case:
Our application already has an eloquent <code>Author</code> model which is used on the site to display on each page. Up to now
these records weren't subject to change and it was ok not to make them available in the admin section of the site.
Now our client asks if they can manage those authors. Yikes! but no sweat. This is something where our manager comes in...</p> <h2 id="creating-a-manager"><a href="#creating-a-manager" aria-hidden="true" class="header-anchor">#</a> Creating a manager</h2> <p>In order to manage an eloquent model, we'll create a manager.</p> <h4 id="implementing-the-contract"><a href="#implementing-the-contract" aria-hidden="true" class="header-anchor">#</a> Implementing the contract</h4> <p>At the very least, a manager class needs to implement the <code>\Thinktomorrow\Chief\Management\ModelManager</code> interface.
This contract requires you to set the expected methods on your manager class.</p> <p>::: info
We recommend you to extend the <code>\Thinktomorrow\Chief\Management\AbstractManager</code> class.
This class gives you out-of-the-box behaviour for most of the expected methods.
:::</p> <p>An author manager looks something like this:</p> <div class="language-php extra-class"><pre class="language-php"><code># AuthorManager.php

<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Management<span class="token punctuation">\</span>ModelManager</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Management<span class="token punctuation">\</span>AbstractManager</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AuthorManager</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractManager</span> <span class="token keyword">implements</span> <span class="token class-name">ModelManager</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="providing-additional-methods"><a href="#providing-additional-methods" aria-hidden="true" class="header-anchor">#</a> Providing additional methods</h4> <p>When you extend from the AbstractManager, there are already a big chunk of the interface taking care of. There are, however , still some methods you'll need to implement yourself. Let's go over them.</p> <h4 id="modelmanager-fields"><a href="#modelmanager-fields" aria-hidden="true" class="header-anchor">#</a> ModelManager::fields</h4> <p><code>ModelManager::fields(): Fields</code></p> <p>Here you define the model attributes to be managed in the admin. In Chief a single field can be represented by a <code>Field</code> class.
Each field class takes care of the form representation and validation.
<a href="'./fields.md'">Learn more on fields in the fields section</a>.</p> <p>If w'd like our author to have a manageable name and bio, we can setup something like this:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">fields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">array</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        InputField<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        TextField<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'bio'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="here-is-the-full-overview-of-all-the-methods-expected-for-a-modelmanager"><a href="#here-is-the-full-overview-of-all-the-methods-expected-for-a-modelmanager" aria-hidden="true" class="header-anchor">#</a> Here is the full overview of all the methods expected for a ModelManager:</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Methods provided by the AbstractManager</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token variable">$verb</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">?</span>string<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">can</span><span class="token punctuation">(</span><span class="token variable">$verb</span><span class="token punctuation">)</span><span class="token punctuation">:</span> bool<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">fieldArrangement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> FieldArrangement<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getFieldValue</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">setField</span><span class="token punctuation">(</span>Field <span class="token variable">$field</span><span class="token punctuation">,</span> Request <span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">saveFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ModelManager<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">renderField</span><span class="token punctuation">(</span>Field <span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">managerDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ManagerDetails<span class="token punctuation">;</span>

<span class="token comment">// Methods you'll need to implement for each model</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">manage</span><span class="token punctuation">(</span>ManagedModel <span class="token variable">$model</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ModelManager <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">fields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">array</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">?</span>ModelManager <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">findAllManaged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Collection <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">managedModelDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ManagedModelDetails <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="registering-a-manager"><a href="#registering-a-manager" aria-hidden="true" class="header-anchor">#</a> Registering a manager</h2> <p>Last thing to do is registering the manager which makes our manager available inside the Chief application.
You register a manager with the <code>register</code> command. A good place to put these registrations is in your project's <code>AppServiceProvider</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># App/Providers/AppServiceProvider</span>

<span class="token keyword">use</span> <span class="token package"><span class="token punctuation">\</span>Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Management<span class="token punctuation">\</span>Register</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AppServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">app</span><span class="token punctuation">(</span>Register<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">register</span><span class="token punctuation">(</span>Author<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">managerKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> AuthorManager<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The register method takes two arguments: first you pass it the unique identifier of the manager. This string identifies the manager inside the chief internals.
This value should match the return value from Author::managerKey().</p> <p>The second parameter is the reference to the ModelManager class.</p> <h2 id="navigation"><a href="#navigation" aria-hidden="true" class="header-anchor">#</a> navigation</h2> <p>-&gt; view in chief admin...</p> <h2 id="authorizing-actions"><a href="#authorizing-actions" aria-hidden="true" class="header-anchor">#</a> Authorizing actions</h2> <h2 id="validating-fields"><a href="#validating-fields" aria-hidden="true" class="header-anchor">#</a> Validating fields</h2> <ul><li>intro: eloquent model, custom object, Page and Module are 2 in-house types of managers</li> <li></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/package-docs/src/chief/basics/fields.html" class="prev">
          Fields
        </a></span> <span class="next"><a href="/package-docs/src/chief/menus/#creating-a-menu">
          Creating a menu
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/package-docs/assets/js/10.9f66b873.js" defer></script><script src="/package-docs/assets/js/app.f4a796bf.js" defer></script>
  </body>
</html>
