<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | Think Tomorrow Documentation</title>
    <meta name="description" content="Think Tomorrow documentation and guidelines">
    
    
    <link rel="preload" href="/package-docs/assets/css/0.styles.ce4a7255.css" as="style"><link rel="preload" href="/package-docs/assets/js/app.a1dee6f8.js" as="script"><link rel="preload" href="/package-docs/assets/js/16.0a6bdaf2.js" as="script"><link rel="prefetch" href="/package-docs/assets/js/10.9ba48900.js"><link rel="prefetch" href="/package-docs/assets/js/11.ddf4c8a0.js"><link rel="prefetch" href="/package-docs/assets/js/12.489899f9.js"><link rel="prefetch" href="/package-docs/assets/js/13.c2beed27.js"><link rel="prefetch" href="/package-docs/assets/js/14.d5572205.js"><link rel="prefetch" href="/package-docs/assets/js/15.9bc4dd93.js"><link rel="prefetch" href="/package-docs/assets/js/17.0cbbce2d.js"><link rel="prefetch" href="/package-docs/assets/js/18.8eb03ed5.js"><link rel="prefetch" href="/package-docs/assets/js/19.cf593707.js"><link rel="prefetch" href="/package-docs/assets/js/2.aa5bbb83.js"><link rel="prefetch" href="/package-docs/assets/js/20.aa7147c6.js"><link rel="prefetch" href="/package-docs/assets/js/21.5d368f4a.js"><link rel="prefetch" href="/package-docs/assets/js/22.201e0dec.js"><link rel="prefetch" href="/package-docs/assets/js/23.3ca3e047.js"><link rel="prefetch" href="/package-docs/assets/js/24.850afa9d.js"><link rel="prefetch" href="/package-docs/assets/js/25.ca8895f2.js"><link rel="prefetch" href="/package-docs/assets/js/26.baf762b1.js"><link rel="prefetch" href="/package-docs/assets/js/27.3cd09bcd.js"><link rel="prefetch" href="/package-docs/assets/js/28.ef3bbfd5.js"><link rel="prefetch" href="/package-docs/assets/js/29.fff7d2f2.js"><link rel="prefetch" href="/package-docs/assets/js/3.1a47b73e.js"><link rel="prefetch" href="/package-docs/assets/js/30.500fad5b.js"><link rel="prefetch" href="/package-docs/assets/js/4.3195d86c.js"><link rel="prefetch" href="/package-docs/assets/js/5.d298125a.js"><link rel="prefetch" href="/package-docs/assets/js/6.b4401a81.js"><link rel="prefetch" href="/package-docs/assets/js/7.ed9a18cf.js"><link rel="prefetch" href="/package-docs/assets/js/8.4aa53551.js"><link rel="prefetch" href="/package-docs/assets/js/9.118b0d73.js">
    <link rel="stylesheet" href="/package-docs/assets/css/0.styles.ce4a7255.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/package-docs/" class="home-link router-link-active"><!----> <span class="site-name">Think Tomorrow Documentation</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/installation.html" class="nav-link router-link-exact-active router-link-active">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/0.6/installation.html" class="nav-link">Assetlibrary</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/squanto/" class="nav-link">Squanto</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/locale/" class="nav-link">Locale</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chief Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/thinktomorrow/package-docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/installation.html" class="nav-link router-link-exact-active router-link-active">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/0.6/installation.html" class="nav-link">Assetlibrary</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/squanto/" class="nav-link">Squanto</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/locale/" class="nav-link">Locale</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chief Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/thinktomorrow/package-docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/package-docs/src/chief/installation.html" class="active sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/package-docs/src/chief/installation.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/installation.html#installation-2" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/installation.html#faq" class="sidebar-link">FAQ</a></li></ul></li><li><a href="/package-docs/src/chief/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/package-docs/src/chief/basics.html" class="sidebar-link">Basics</a></li><li><a href="/package-docs/src/chief/managers.html" class="sidebar-link">Customize Managers</a></li><li><a href="/package-docs/src/chief/fields.html" class="sidebar-link">Fields</a></li><li><a href="/package-docs/src/chief/advanced.html" class="sidebar-link">Advanced</a></li><li><a href="/package-docs/src/chief/contributing.html" class="sidebar-link">Contributing</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h1> <p>Chief is a laravel package that adds a site management system to your project.
Out of the box you'll get page, url and menu management provided through a well-crafted admin UI. All of this with localization in mind.</p> <h2 id="requirements"><a href="#requirements" aria-hidden="true" class="header-anchor">#</a> Requirements</h2> <p>There are a few minimum requirements for chief to be installable:</p> <ul><li>php &gt;= 7.2.0</li> <li>Laravel framework &gt;= 5.6.39.</li></ul> <div class="warning custom-block"><p class="custom-block-title">Potential vendor conflict</p> <p>Chief makes use of the <code>spatie/laravel-permission</code> package. This does expect only one permission based role system. So this will present a conflict if your project
already utilises the package for its own permissions.</p></div> <h2 id="installation-2"><a href="#installation-2" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <p>Chief can be installed via composer.</p> <div class="language-php extra-class"><pre class="language-php"><code>composer <span class="token keyword">require</span> thinktomorrow<span class="token operator">/</span>chief
</code></pre></div><p>The package will automatically register its service provider but you'll need to set up a couple of elements to completely hook chief into your application:</p> <ol><li><a href="#_1-migrations">Migrations</a></li> <li><a href="#_2-exception-handler">Exception handler</a></li> <li><a href="#_4-chief-config">Chief config</a></li> <li><a href="#_5-chief-assets">Chief assets</a></li> <li><a href="#_6-first-admin-user">First admin user</a></li></ol> <h3 id="_1-migrations"><a href="#_1-migrations" aria-hidden="true" class="header-anchor">#</a> 1. Migrations</h3> <p>After setting you database credentials run the migrate artisan command. This will automatically run the chief migrations as well.</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan migrate
</code></pre></div><h3 id="_2-exception-handler"><a href="#_2-exception-handler" aria-hidden="true" class="header-anchor">#</a> 2. Exception handler</h3> <p>Your app's exception handler should extend <code>Thinktomorrow\Chief\App\Exceptions\Handler</code> since it takes care of all chief authentication and authorization.</p> <p>In the <code>app/Exceptions/Handler.php</code> file extend the handler class as such:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># app/Exceptions/Handler.php</span>

<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>App<span class="token punctuation">\</span>Exceptions<span class="token punctuation">\</span>Handler</span> <span class="token keyword">as</span> ChiefExceptionHandler<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Handler</span> <span class="token keyword">extends</span> <span class="token class-name">ChiefExceptionHandler</span>
<span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">Rename login routename to chief.back.login</p> <p>From laravel version 5.7.19, there is an <code>App\Http\Middleware\Authenticate</code> middleware in the app folder which contains a predefined <code>login</code> route. This will break behaviour in cases where you don't have a <code>login</code> routename defined.
In order to redirect non-logged users to the chief login page, you should change this named route to <code>chief.back.login</code>.</p> <p>If you have upgraded your project from an older version of Laravel you might not have this file.
Make sure to add it: <a href="https://github.com/laravel/laravel/blob/master/app/Http/Middleware/Authenticate.php" target="_blank" rel="noopener noreferrer">Authenticate.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>In this class there is a redirectTo function and it should end up looking like this:</p> <div class="language-php extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-php"><code><span class="token shell-comment comment"># App\Http\Middleware\Authenticate.php</span>

<span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">expectsJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'chief.back.login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="_4-chief-config"><a href="#_4-chief-config" aria-hidden="true" class="header-anchor">#</a> 4. Chief config</h3> <p>Publish the chief config to <code>config/thinktomorrow/chief</code> as this will require you to set some application defaults such as
contact email and application name.</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan vendor<span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span>chief<span class="token operator">-</span>config
</code></pre></div><p>Make sure to set at least the <code>name</code> value to your project name in your <code>.env</code> file as it is used in some of the generator commands. Ideally this should match
the namespace of your <code>src</code> folder, if you have any. Make sure to namespace the src folder in your composer.json to match this name.</p> <p>The following vendor assets should also be published to your application:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// The dimsav translatable package</span>
php artisan vendor<span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span>translatable
</code></pre></div><p>This will create the translatable config file <code>config/translatable.php</code>, this is where you edit what languages are available in the chief admin panel.</p> <h3 id="_5-chief-assets"><a href="#_5-chief-assets" aria-hidden="true" class="header-anchor">#</a> 5. Chief assets</h3> <p>The next step is to publish the chief-assets to our public folder.
If you want to overwrite existing files you can add the <code>--force</code> flag here.</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan vendor<span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span>chief<span class="token operator">-</span>assets <span class="token operator">--</span>force
</code></pre></div><h3 id="_6-first-admin-user"><a href="#_6-first-admin-user" aria-hidden="true" class="header-anchor">#</a> 6. First admin user</h3> <p>By now your admin is ready to go. The only thing missing to access it is an admin user, so let's add one. Use the following command to
add an admin account. Note that it also takes care of setting up the auth permissions and roles.</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan chief<span class="token punctuation">:</span>admin <span class="token operator">--</span>dev
</code></pre></div><p>Now that all this setup is done, let's go to the chief admin panel to get your first glance on the admin.
Go to the <code>/admin</code> route and login with your newly created credentials to access the admin panel.</p> <p>The <a href="/package-docs/src/chief/basics.html">basics section</a> of this guide will bring you up to speed on some of the important concepts to kickstart your project development.</p> <h2 id="faq"><a href="#faq" aria-hidden="true" class="header-anchor">#</a> FAQ</h2> <h3 id="i-get-the-route-login-not-defined-error-help"><a href="#i-get-the-route-login-not-defined-error-help" aria-hidden="true" class="header-anchor">#</a> I get the &quot;Route [login] not defined&quot; error. Help!</h3> <p>Extend our ChiefExceptionHandler in the <code>app/handler.php</code> file. This is because the chief admin uses a custom guard and does not rely on the default auth laravel routes.</p> <h3 id="i-get-the-tokenmismatch-error-after-login-into-the-admin-help"><a href="#i-get-the-tokenmismatch-error-after-login-into-the-admin-help" aria-hidden="true" class="header-anchor">#</a> I get the &quot;Tokenmismatch&quot; error after login into the admin. Help!</h3> <p>This most likely means you have an outdated version of chief. Run 'composer update' to get the latest version.
If this error persists you might have some middleware that's interfering with the login/session process.</p> <h3 id="i-get-the-class-web-chief-does-not-exist-error-help"><a href="#i-get-the-class-web-chief-does-not-exist-error-help" aria-hidden="true" class="header-anchor">#</a> I get the &quot;Class web-chief does not exist&quot; error. Help!</h3> <p>Add the <code>AuthenticateChiefSession::class</code> middleware group to your <code>App\Http\Kernel.php</code> file.</p> <h3 id="i-get-the-expected-response-code-250-but-got-code-“530”-with-message-“530-5-7-1-authentication-required-”-error-help"><a href="#i-get-the-expected-response-code-250-but-got-code-“530”-with-message-“530-5-7-1-authentication-required-”-error-help" aria-hidden="true" class="header-anchor">#</a> I get the 'Expected response code 250 but got code “530”, with message “530 5.7.1 Authentication required ”' error. Help!</h3> <p>Please make sure your mail settings in your .env file are correct.</p> <h3 id="mysql-index-length-bug"><a href="#mysql-index-length-bug" aria-hidden="true" class="header-anchor">#</a> MySQL index length bug</h3> <p>Add following snippet in the AppServiceProvider of your project if you use MySQL older than 5.7.7
ref: https://laravel.com/docs/master/migrations#creating-indexes
<code>Schema::defaultStringLength(191)</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># App\Providers\AppServiceProvider.php</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Schema</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Bootstrap any application services.
 *
 * @return void
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Schema<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">defaultStringLength</span><span class="token punctuation">(</span><span class="token number">191</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/19/2019, 4:26:43 PM</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/package-docs/src/chief/upgrading.html">
          Upgrading
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/package-docs/assets/js/app.a1dee6f8.js" defer></script><script src="/package-docs/assets/js/16.0a6bdaf2.js" defer></script>
  </body>
</html>
