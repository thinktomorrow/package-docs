<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | Docs</title>
    <meta name="description" content="Think Tomorrow documentation and guidelines">
    
    
    <link rel="preload" href="/package-docs/assets/css/0.styles.0f205980.css" as="style"><link rel="preload" href="/package-docs/assets/js/app.f4a796bf.js" as="script"><link rel="preload" href="/package-docs/assets/js/14.45fb367c.js" as="script"><link rel="prefetch" href="/package-docs/assets/js/2.861402b7.js"><link rel="prefetch" href="/package-docs/assets/js/3.20f3e153.js"><link rel="prefetch" href="/package-docs/assets/js/4.77d1723a.js"><link rel="prefetch" href="/package-docs/assets/js/5.ff9c7a83.js"><link rel="prefetch" href="/package-docs/assets/js/6.29e550ef.js"><link rel="prefetch" href="/package-docs/assets/js/7.8534cc92.js"><link rel="prefetch" href="/package-docs/assets/js/8.d1a61cee.js"><link rel="prefetch" href="/package-docs/assets/js/9.cb4dad23.js"><link rel="prefetch" href="/package-docs/assets/js/10.9f66b873.js"><link rel="prefetch" href="/package-docs/assets/js/11.319a373d.js"><link rel="prefetch" href="/package-docs/assets/js/12.d81bbce6.js"><link rel="prefetch" href="/package-docs/assets/js/13.cff21e33.js"><link rel="prefetch" href="/package-docs/assets/js/15.3e2ff97b.js"><link rel="prefetch" href="/package-docs/assets/js/16.6ed45ccc.js"><link rel="prefetch" href="/package-docs/assets/js/17.5c153c3a.js"><link rel="prefetch" href="/package-docs/assets/js/18.7239876e.js"><link rel="prefetch" href="/package-docs/assets/js/19.d16cf5f1.js"><link rel="prefetch" href="/package-docs/assets/js/20.7bab3a7f.js"><link rel="prefetch" href="/package-docs/assets/js/21.eafa29be.js"><link rel="prefetch" href="/package-docs/assets/js/22.cd8e87cf.js"><link rel="prefetch" href="/package-docs/assets/js/23.2394eefd.js"><link rel="prefetch" href="/package-docs/assets/js/24.b4f798dc.js"><link rel="prefetch" href="/package-docs/assets/js/25.b010345a.js">
    <link rel="stylesheet" href="/package-docs/assets/css/0.styles.0f205980.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/package-docs/" class="home-link router-link-active"><!----> <span class="site-name">Docs</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link router-link-exact-active router-link-active">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link router-link-exact-active router-link-active">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/package-docs/src/chief/guide/installation.html" class="active sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/installation.html#package" class="sidebar-link">Package</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/installation.html#application-setup" class="sidebar-link">Application setup</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/installation.html#database-setup" class="sidebar-link">Database setup</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/installation.html#known-issues" class="sidebar-link">Known issues</a></li></ul></li><li><a href="/package-docs/src/chief/guide/getting-started.html" class="sidebar-link">Project setup</a></li><li><a href="/package-docs/src/chief/guide/upgrade-guide.html" class="sidebar-link">Upgrade guide</a></li><li><a href="/package-docs/src/chief/guide/local-dev.html" class="sidebar-link">Local Chief development</a></li><li><a href="/package-docs/src/chief/guide/faq.html" class="sidebar-link">FAQ</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Model Management</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Menus</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pages</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pagesets</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Fields</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h1> <h2 id="package"><a href="#package" aria-hidden="true" class="header-anchor">#</a> Package</h2> <p>Chief is a laravel specific package. It can be installed in a fresh or existing laravel application. You install the latest version of the package via composer.
Laravel version <code>5.7.1</code> is a minimum requirement.</p> <div class="language-php extra-class"><pre class="language-php"><code>composer <span class="token keyword">require</span> thinktomorrow<span class="token operator">/</span>chief
</code></pre></div><p>The package will automatically register its service provider to hook into your application.</p> <h2 id="application-setup"><a href="#application-setup" aria-hidden="true" class="header-anchor">#</a> Application setup</h2> <h3 id="exception-handler"><a href="#exception-handler" aria-hidden="true" class="header-anchor">#</a> Exception handler</h3> <p>Next edit the application exception handler to extend the chief exception handler.
The Chief Exception handler takes care of the admin authentication and authorization.
In the <code>App\Exceptions\Handler</code> file extend the class as such:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># App\Exceptions\Handler.php</span>

<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>App<span class="token punctuation">\</span>Exceptions<span class="token punctuation">\</span>Handler</span> <span class="token keyword">as</span> ChiefExceptionHandler<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Handler</span> <span class="token keyword">extends</span> <span class="token class-name">ChiefExceptionHandler</span>
</code></pre></div><h3 id="middleware"><a href="#middleware" aria-hidden="true" class="header-anchor">#</a> Middleware</h3> <p>Add the <code>\Thinktomorrow\Chief\App\Http\Middleware\AuthenticateChiefSession::class</code> middleware to your <code>App\Http\Kernel</code> file.
You should place these in a <code>web-chief</code> middleware group like so:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># App\Http\Kernel.php</span>

<span class="token keyword">protected</span> <span class="token variable">$middlewareGroups</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'web-chief'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            \<span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>AuthenticateChiefSession</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Next in the same file we should add the following entries to the $routeMiddleware array.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># App\Http\Kernel.php</span>

<span class="token keyword">protected</span> <span class="token variable">$routeMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'auth.superadmin'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \<span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>AuthenticateSuperadmin</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'chief-guest'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \<span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>ChiefRedirectIfAuthenticated</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'chief-validate-invite'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \<span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>ChiefValidateInvite</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'role'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \<span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Middlewares<span class="token punctuation">\</span>RoleMiddleware</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'permission'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \<span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Middlewares<span class="token punctuation">\</span>PermissionMiddleware</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>From laravel version 5.7.19, there is an <code>App\Http\Middleware\Authenticate</code> middleware in the app folder which contains a predefined <code>login</code> route. This will break behaviour if you do not have a login route defined.
In order to redirect non-logged users to the chief login page, you should change this named route to <code>chief.back.login</code>.
If you have upgraded your project from an older version of Laravel you might not have this file.
Make sure you add this file: <a href="https://github.com/laravel/laravel/blob/master/app/Http/Middleware/Authenticate.php" target="_blank" rel="noopener noreferrer">Authenticate.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="database-setup"><a href="#database-setup" aria-hidden="true" class="header-anchor">#</a> Database setup</h2> <p>Connect a database with your application and make sure you have set the proper database credentials in your <code>.env</code> file.</p> <p>Next perform the migrate artisan command. This will automatically run the chief migrations as well.
Note that Chief has separate tables for the chief admin users, <code>chief-users</code> and <code>chief_password_resets</code>. This way there
is no interference with your application user logic.</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan migrate
</code></pre></div><p>Next we need at least one main admin user to login and start managing the admin panel.
This command will create the basic roles and permissions and allows to setup the first admin account:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan chief<span class="token punctuation">:</span>admin
</code></pre></div><h3 id="config-assets"><a href="#config-assets" aria-hidden="true" class="header-anchor">#</a> Config &amp; Assets</h3> <p>The next step is to publish the chief-assets to our public folder.
If you want to overwrite existing files you can add the <code>--force</code> flag here.</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan vendor<span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span>chief<span class="token operator">-</span>assets
</code></pre></div><p>Publish the chief config to <code>config/thinktomorrow/chief</code> as this will require you to set some application defaults such as
contact email and application name.</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan vendor<span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span>chief<span class="token operator">-</span>config
</code></pre></div><p>Make sure to set at least the <code>name</code> value to your project name as it is used in some of the generator commands. Ideally this should match
the namespace of your <code>src</code> folder, if you have any. Make sure to namespace the src folder in your composer.json to match this name.</p> <p>The following vendor assets should also be published to your application:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// The dimsav translatable package</span>
php artisan vendor<span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span>translatable

<span class="token comment">// The thinktomorrow locale package</span>
php artisan vendor<span class="token punctuation">:</span>publish <span class="token operator">--</span>provider<span class="token operator">=</span><span class="token double-quoted-string string">&quot;Thinktomorrow\Locale\LocaleServiceProvider&quot;</span>
</code></pre></div><h2 id="known-issues"><a href="#known-issues" aria-hidden="true" class="header-anchor">#</a> Known issues</h2> <p>Chief has a few dependencies which may conflict with your current project dependencies. Chief makes use of the
<code>spatie/laravel-permission</code> package and this does expect only one permission based role system. So if your project
requires the same package but for an second permission-based setup, you need to consider this possible conflict.</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/package-docs/src/chief/guide/getting-started.html">
          Project setup
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/package-docs/assets/js/14.45fb367c.js" defer></script><script src="/package-docs/assets/js/app.f4a796bf.js" defer></script>
  </body>
</html>
