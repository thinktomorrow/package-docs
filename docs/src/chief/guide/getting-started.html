<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Project setup | Docs</title>
    <meta name="description" content="Think Tomorrow documentation and guidelines">
    
    
    <link rel="preload" href="/package-docs/assets/css/0.styles.0f205980.css" as="style"><link rel="preload" href="/package-docs/assets/js/app.f4a796bf.js" as="script"><link rel="preload" href="/package-docs/assets/js/13.cff21e33.js" as="script"><link rel="prefetch" href="/package-docs/assets/js/2.861402b7.js"><link rel="prefetch" href="/package-docs/assets/js/3.20f3e153.js"><link rel="prefetch" href="/package-docs/assets/js/4.77d1723a.js"><link rel="prefetch" href="/package-docs/assets/js/5.ff9c7a83.js"><link rel="prefetch" href="/package-docs/assets/js/6.29e550ef.js"><link rel="prefetch" href="/package-docs/assets/js/7.8534cc92.js"><link rel="prefetch" href="/package-docs/assets/js/8.d1a61cee.js"><link rel="prefetch" href="/package-docs/assets/js/9.cb4dad23.js"><link rel="prefetch" href="/package-docs/assets/js/10.9f66b873.js"><link rel="prefetch" href="/package-docs/assets/js/11.319a373d.js"><link rel="prefetch" href="/package-docs/assets/js/12.d81bbce6.js"><link rel="prefetch" href="/package-docs/assets/js/14.45fb367c.js"><link rel="prefetch" href="/package-docs/assets/js/15.3e2ff97b.js"><link rel="prefetch" href="/package-docs/assets/js/16.6ed45ccc.js"><link rel="prefetch" href="/package-docs/assets/js/17.5c153c3a.js"><link rel="prefetch" href="/package-docs/assets/js/18.7239876e.js"><link rel="prefetch" href="/package-docs/assets/js/19.d16cf5f1.js"><link rel="prefetch" href="/package-docs/assets/js/20.7bab3a7f.js"><link rel="prefetch" href="/package-docs/assets/js/21.eafa29be.js"><link rel="prefetch" href="/package-docs/assets/js/22.cd8e87cf.js"><link rel="prefetch" href="/package-docs/assets/js/23.2394eefd.js"><link rel="prefetch" href="/package-docs/assets/js/24.b4f798dc.js"><link rel="prefetch" href="/package-docs/assets/js/25.b010345a.js">
    <link rel="stylesheet" href="/package-docs/assets/css/0.styles.0f205980.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/package-docs/" class="home-link router-link-active"><!----> <span class="site-name">Docs</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/package-docs/src/chief/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/package-docs/src/chief/guide/getting-started.html" class="active sidebar-link">Project setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/getting-started.html#registration" class="sidebar-link">Registration</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/getting-started.html#chief-routes" class="sidebar-link">Chief routes</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/getting-started.html#chief-controller" class="sidebar-link">Chief controller</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/getting-started.html#chief-view" class="sidebar-link">Chief view</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/getting-started.html#homepage" class="sidebar-link">Homepage</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/getting-started.html#localization" class="sidebar-link">Localization</a></li></ul></li><li><a href="/package-docs/src/chief/guide/upgrade-guide.html" class="sidebar-link">Upgrade guide</a></li><li><a href="/package-docs/src/chief/guide/local-dev.html" class="sidebar-link">Local Chief development</a></li><li><a href="/package-docs/src/chief/guide/faq.html" class="sidebar-link">FAQ</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Model Management</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Menus</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pages</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pagesets</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Fields</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="project-setup"><a href="#project-setup" aria-hidden="true" class="header-anchor">#</a> Project setup</h1> <p>Chief is a package based site management system built on top of the laravel framework.
Chief is the admin dashboard for your project. There are no assumptions made for the project site logic and structure.</p> <h2 id="registration"><a href="#registration" aria-hidden="true" class="header-anchor">#</a> Registration</h2> <p>In the <code>app/Providers</code> folder add a file named <code>ChiefProjectServiceProvider</code>. This file can be used to register all your manageable models.
An example of this is:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Pages<span class="token punctuation">\</span>PageManager</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>App<span class="token punctuation">\</span>Providers<span class="token punctuation">\</span>ChiefProjectServiceProvider</span> <span class="token keyword">as</span> BaseChiefProjectServiceProvider<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ChiefProjectServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">BaseChiefProjectServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Boot core registrations</span>
        <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Example of registering event pages</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">registerPage</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'events'</span><span class="token punctuation">,</span> PageManager<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> \<span class="token package">App<span class="token punctuation">\</span>Events<span class="token punctuation">\</span>Event</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Make sure to add this service provider to your <code>config/app.php</code> file:</p> <div class="language-php extra-class"><pre class="language-php"><code>\<span class="token package">App<span class="token punctuation">\</span>Providers<span class="token punctuation">\</span>ChiefProjectServiceProvider</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="chief-routes"><a href="#chief-routes" aria-hidden="true" class="header-anchor">#</a> Chief routes</h2> <p>There are two project routes required by chief: <code>pages.show</code> and <code>pages.home</code> which are the default routes for chief pages.</p> <table><thead><tr><th>Routename</th> <th>description</th></tr></thead> <tbody><tr><td>pages.home</td> <td>Points to the Chief managed homepage.</td></tr> <tr><td>pages.show</td> <td>Catch all route for all managed Chief pages.</td></tr></tbody></table> <p>The <code>pages.show</code> serves as a catch all for displaying all Chief managed pages.
This catch-all route will point to a generic PagesController that directs the request
to the proper published page. Place this routing at the end of your route definitions
to avoid routes not being triggered.</p> <p><code>pages.home</code> makes the distinction with other pages that it is accessible on the root url.
So in your route file you should add the following:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># routes/web.php</span>

<span class="token comment">// Homepage route</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> PagesController<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'@homepage'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'pages.home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Catch all routing
 *
 * This catch-all will point to a generic chief pages controller that directs the request
 * to the proper published page. It will handle the homepage '/' as well. Place this
 * routing at the end of your route definitions to avoid routes not being triggered.
 */</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'{slug}'</span><span class="token punctuation">,</span> PagesController<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'@show'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'pages.show'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'slug'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'(.*)?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="chief-controller"><a href="#chief-controller" aria-hidden="true" class="header-anchor">#</a> Chief controller</h2> <p>Besides the route definitions, we should add the following PagesController which will serve as the generic handler for all page requests.
You are free to create your own logic or extend according to your project. You can use the following code as a starting point.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># App/Http/Controller/PagesController.php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpKernel<span class="token punctuation">\</span>Exception<span class="token punctuation">\</span>NotFoundHttpException</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Pages<span class="token punctuation">\</span>Homepage</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Pages<span class="token punctuation">\</span>Page</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">PagesController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token variable">$slug</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$page</span> <span class="token operator">=</span> Page<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">findPublishedBySlug</span><span class="token punctuation">(</span><span class="token variable">$slug</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotFoundHttpException</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'No published page found by slug ['</span><span class="token punctuation">.</span><span class="token variable">$slug</span><span class="token punctuation">.</span><span class="token single-quoted-string string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>Homepage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'pages.home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$page</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">homepage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$page</span> <span class="token operator">=</span> Homepage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">guess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$page</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="chief-view"><a href="#chief-view" aria-hidden="true" class="header-anchor">#</a> Chief view</h2> <p>Next, we'll need a default view that is responsible for displaying all managed pages. You can choose either <code>views/pages/show.blade.php</code> or <code>views/front/pages/show.blade.php</code>.
The one required method to render the chief content in the view is <code>Page::renderChildren()</code>.</p> <p>So as a bare minimum the <code>pages.show</code> view should contain:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># resources/views/pages/show.blade.php</span>

<span class="token punctuation">{</span><span class="token operator">!</span><span class="token operator">!</span> <span class="token variable">$page</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">renderChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="homepage"><a href="#homepage" aria-hidden="true" class="header-anchor">#</a> Homepage</h2> <p>Once you have added your pages, your should choose which one will be the homepage. This is currently set in the <code>thinktomorrow/chief-settings.php</code> config file.
Here you can explicitly set the page that is considered to be the website homepage. If this homepage value is left empty, the first published page is used as a default.</p> <h2 id="localization"><a href="#localization" aria-hidden="true" class="header-anchor">#</a> Localization</h2> <p>When coding in Europe, you'll probably need to provide your site in more than one language. Localization is built into the core of Chief.
In order to manage the locales, you need to configure the following files:</p> <ul><li>Set the available locales of the application in the <code>config/translatable.php</code> file. These are the locales in which each page should be made available.</li> <li>Set the frontend locales of the application in the <code>config/thinktomorrow/locale.php</code> file. These locales are available for the users of your application.</li> <li>Set the default and fallback locale in the <code>config/app.php</code> file. Keep in mind that this value needs to consist of one of the available locales as set in the <code>config/translatable.php</code>.</li></ul> <p><em>Owkey looks like the basics are done and you are all set for kickstart your project development!</em></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/package-docs/src/chief/guide/installation.html" class="prev">
          Installation
        </a></span> <span class="next"><a href="/package-docs/src/chief/guide/upgrade-guide.html">
          Upgrade guide
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/package-docs/assets/js/13.cff21e33.js" defer></script><script src="/package-docs/assets/js/app.f4a796bf.js" defer></script>
  </body>
</html>
