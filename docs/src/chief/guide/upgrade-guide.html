<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrade guide | Docs</title>
    <meta name="description" content="Think Tomorrow documentation and guidelines">
    
    
    <link rel="preload" href="/package-docs/assets/css/0.styles.0f205980.css" as="style"><link rel="preload" href="/package-docs/assets/js/app.f4a796bf.js" as="script"><link rel="preload" href="/package-docs/assets/js/17.5c153c3a.js" as="script"><link rel="prefetch" href="/package-docs/assets/js/2.861402b7.js"><link rel="prefetch" href="/package-docs/assets/js/3.20f3e153.js"><link rel="prefetch" href="/package-docs/assets/js/4.77d1723a.js"><link rel="prefetch" href="/package-docs/assets/js/5.ff9c7a83.js"><link rel="prefetch" href="/package-docs/assets/js/6.29e550ef.js"><link rel="prefetch" href="/package-docs/assets/js/7.8534cc92.js"><link rel="prefetch" href="/package-docs/assets/js/8.d1a61cee.js"><link rel="prefetch" href="/package-docs/assets/js/9.cb4dad23.js"><link rel="prefetch" href="/package-docs/assets/js/10.9f66b873.js"><link rel="prefetch" href="/package-docs/assets/js/11.319a373d.js"><link rel="prefetch" href="/package-docs/assets/js/12.d81bbce6.js"><link rel="prefetch" href="/package-docs/assets/js/13.cff21e33.js"><link rel="prefetch" href="/package-docs/assets/js/14.45fb367c.js"><link rel="prefetch" href="/package-docs/assets/js/15.3e2ff97b.js"><link rel="prefetch" href="/package-docs/assets/js/16.6ed45ccc.js"><link rel="prefetch" href="/package-docs/assets/js/18.7239876e.js"><link rel="prefetch" href="/package-docs/assets/js/19.d16cf5f1.js"><link rel="prefetch" href="/package-docs/assets/js/20.7bab3a7f.js"><link rel="prefetch" href="/package-docs/assets/js/21.eafa29be.js"><link rel="prefetch" href="/package-docs/assets/js/22.cd8e87cf.js"><link rel="prefetch" href="/package-docs/assets/js/23.2394eefd.js"><link rel="prefetch" href="/package-docs/assets/js/24.b4f798dc.js"><link rel="prefetch" href="/package-docs/assets/js/25.b010345a.js">
    <link rel="stylesheet" href="/package-docs/assets/css/0.styles.0f205980.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/package-docs/" class="home-link router-link-active"><!----> <span class="site-name">Docs</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/guide/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/package-docs/src/chief/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/package-docs/src/chief/guide/getting-started.html" class="sidebar-link">Project setup</a></li><li><a href="/package-docs/src/chief/guide/upgrade-guide.html" class="active sidebar-link">Upgrade guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/upgrade-guide.html#updating-chief-inside-your-project" class="sidebar-link">Updating chief inside your project</a></li><li class="sidebar-sub-header"><a href="/package-docs/src/chief/guide/upgrade-guide.html#upgrading-a-project-from-0-1-to-0-2" class="sidebar-link">Upgrading a project from 0.1. to 0.2.</a></li></ul></li><li><a href="/package-docs/src/chief/guide/local-dev.html" class="sidebar-link">Local Chief development</a></li><li><a href="/package-docs/src/chief/guide/faq.html" class="sidebar-link">FAQ</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Model Management</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Menus</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pages</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pagesets</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Fields</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="upgrade-guide"><a href="#upgrade-guide" aria-hidden="true" class="header-anchor">#</a> Upgrade guide</h1> <p>The latest version of Chief is <code>0.2</code> which is the one being currently developed upon.
Please note that the <code>0.1</code> release is only maintained for security fixes and critical bugfixes.</p> <h2 id="updating-chief-inside-your-project"><a href="#updating-chief-inside-your-project" aria-hidden="true" class="header-anchor">#</a> Updating chief inside your project</h2> <p>Chief follows the semantic versioning and we always try to maintain a backward compatible release cycle.
The major version will include breaking changes and features that are not backward compatible. For each major version, we will
provide an upgrade guide to make this process as painless as possible.
The minor version will contain new features or deprecations that are still backward compatible.
The patch version is used for bugfixes and is safe to update in your current chief version.</p> <p>First run the <code>composer update thinktomorrow/chief</code> command. This will update Chief to the latest version, according to your version constraints.</p> <p>Next update the chief assets by running <code>php artisan vendor:publish --tag=chief-assets --force</code> in your project root. This will update all style and script assets.</p> <h2 id="upgrading-a-project-from-0-1-to-0-2"><a href="#upgrading-a-project-from-0-1-to-0-2" aria-hidden="true" class="header-anchor">#</a> Upgrading a project from 0.1.* to 0.2.*</h2> <p>The upgrade from 0.1 to 0.2 is not considered an official upgrade. This is because the <code>0.1</code> version is a unsupported development phase. Nonetheless, we do have some key elements you should pay attention to while upgrading.</p> <p>First update the <code>thinktomorrow/chief</code> dependency to <code>~0.2</code> in your <code>composer.json</code> file.</p> <p>Pay attention to the following changes:</p> <ul><li>You need to change a couple of migration entries due to assetlibrary major version upgrade. Table (squanto, media, asset) already exists: migrations table -&gt; change the keys to the following : 2019_01_10_154910_create_asset_table, 2019_01_10_154909_create_media_table, 2019_01_10_154902_create_squanto_tables</li> <li>assetlibrary 0.5 gebruikt in bestandsnaam telkens de name + conversion. Dit is anders dan het huidige gedrag waarbij enkel de conversion werd opgevraagd. bv. full.jpg wordt nu heroname-full.jpg</li> <li>run migrations for extra default tables for asset library</li></ul> <h3 id="updating-pre-refactor-managers"><a href="#updating-pre-refactor-managers" aria-hidden="true" class="header-anchor">#</a> Updating pre-refactor managers</h3> <p>The Linking of managers to models has changed from the chief config file to a serviceprovider.
Lets first create our ProjectServiceProvider and start linking our collection from the config file.</p> <p>To link a page, use the provided PageManager.
To link a module, use the provided ModuleManager.
You can also define your own manager for custom classes. We will go into this custom manager later.</p> <p>Before:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># config/chief.php</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token single-quoted-string string">'collections'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
    <span class="token comment">// Pages</span>
    <span class="token single-quoted-string string">'singles'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> Singles\<span class="token package">Single</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>

    <span class="token comment">// Modules</span>
    <span class="token single-quoted-string string">'banner'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> Banner<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>After:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># providers/ChiefProjectServiceProvider.php</span>

<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Boot core registrations</span>
    <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Managers</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">registerManager</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'singles'</span><span class="token punctuation">,</span> PageManager<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> Single<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Module Managers</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">registerManager</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'banner'</span><span class="token punctuation">,</span> ModuleManager<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> Banner<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Custom Classes</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">registerManager</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'members'</span><span class="token punctuation">,</span> MemberManager<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> Member<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Next up the ManagementDefaults have been removed and aside from implemementing the ModelManagers we now also extend from an AbstractManager.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">MemberManager</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractManager</span> <span class="token keyword">implements</span> <span class="token class-name">ModelManager</span>
<span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</code></pre></div><p>If the model in question needs publishing or previewing functionality there are traits we can use and interfaces to implement.</p> <div class="language-php extra-class"><pre class="language-php"><code>
<span class="token keyword">class</span> <span class="token class-name">MemberManager</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractManager</span> <span class="token keyword">implements</span> <span class="token class-name">ModelManager</span><span class="token punctuation">,</span> ManagerThatPublishes<span class="token punctuation">,</span> ManagerThatPreviews
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">ManagesPublishing</span><span class="token punctuation">,</span>
        ManagesPreviews<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/package-docs/src/chief/guide/getting-started.html" class="prev">
          Project setup
        </a></span> <span class="next"><a href="/package-docs/src/chief/guide/local-dev.html">
          Local Chief development
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/package-docs/assets/js/17.5c153c3a.js" defer></script><script src="/package-docs/assets/js/app.f4a796bf.js" defer></script>
  </body>
</html>
