<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Customizing managers | Think Tomorrow Documentation</title>
    <meta name="description" content="Think Tomorrow documentation and guidelines">
    
    
    <link rel="preload" href="/package-docs/assets/css/0.styles.0f205980.css" as="style"><link rel="preload" href="/package-docs/assets/js/app.133c9c72.js" as="script"><link rel="preload" href="/package-docs/assets/js/13.aafeb11b.js" as="script"><link rel="prefetch" href="/package-docs/assets/js/2.795c8387.js"><link rel="prefetch" href="/package-docs/assets/js/3.4668a85f.js"><link rel="prefetch" href="/package-docs/assets/js/4.75fccbf1.js"><link rel="prefetch" href="/package-docs/assets/js/5.b2e8750c.js"><link rel="prefetch" href="/package-docs/assets/js/6.9f096cd2.js"><link rel="prefetch" href="/package-docs/assets/js/7.721a3aad.js"><link rel="prefetch" href="/package-docs/assets/js/8.600a9572.js"><link rel="prefetch" href="/package-docs/assets/js/9.25739b1d.js"><link rel="prefetch" href="/package-docs/assets/js/10.fd1bef51.js"><link rel="prefetch" href="/package-docs/assets/js/11.691444a5.js"><link rel="prefetch" href="/package-docs/assets/js/12.06b4276e.js"><link rel="prefetch" href="/package-docs/assets/js/14.2af621d0.js"><link rel="prefetch" href="/package-docs/assets/js/15.7403b6b7.js"><link rel="prefetch" href="/package-docs/assets/js/16.82f9349b.js"><link rel="prefetch" href="/package-docs/assets/js/17.e7485c02.js"><link rel="prefetch" href="/package-docs/assets/js/18.62c59e17.js"><link rel="prefetch" href="/package-docs/assets/js/19.66f65ee5.js"><link rel="prefetch" href="/package-docs/assets/js/20.278999b7.js"><link rel="prefetch" href="/package-docs/assets/js/21.294bcd01.js"><link rel="prefetch" href="/package-docs/assets/js/22.fd64c316.js"><link rel="prefetch" href="/package-docs/assets/js/23.8b06294a.js"><link rel="prefetch" href="/package-docs/assets/js/24.e33d3a75.js"><link rel="prefetch" href="/package-docs/assets/js/25.566131ce.js"><link rel="prefetch" href="/package-docs/assets/js/26.d59acec6.js"><link rel="prefetch" href="/package-docs/assets/js/27.8de29566.js">
    <link rel="stylesheet" href="/package-docs/assets/css/0.styles.0f205980.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/package-docs/" class="home-link router-link-active"><!----> <span class="site-name">Think Tomorrow Documentation</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/squanto/" class="nav-link">Squanto</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/locale/" class="nav-link">Locale</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chief Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/thinktomorrow/package-docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/package-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/package-docs/src/guidelines/index.html" class="nav-link">Guidelines</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/package-docs/src/chief/installation.html" class="nav-link">Chief</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/assetlibrary/guide/installation.html" class="nav-link">Assetlibrary</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/squanto/" class="nav-link">Squanto</a></li><li class="dropdown-item"><!----> <a href="/package-docs/src/locale/" class="nav-link">Locale</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/thinktomorrow/chief" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chief Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/thinktomorrow/package-docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/package-docs/src/chief/installation.html" class="sidebar-link">Installation</a></li><li><a href="/package-docs/src/chief/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/package-docs/src/chief/basics.html" class="sidebar-link">Basics</a></li><li><a href="/package-docs/src/chief/managers.html" class="active sidebar-link">Customize Managers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/package-docs/src/chief/managers.html#creating-a-custom-manager" class="sidebar-link">Creating a custom manager</a></li></ul></li><li><a href="/package-docs/src/chief/fields.html" class="sidebar-link">Fields</a></li><li><a href="/package-docs/src/chief/advanced.html" class="sidebar-link">Advanced</a></li><li><a href="/package-docs/src/chief/contributing.html" class="sidebar-link">Contributing</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="customizing-managers"><a href="#customizing-managers" aria-hidden="true" class="header-anchor">#</a> Customizing managers</h1> <p>In some cases the basic managers might not be enough.
For instance if you want to add some fields to a module/collection or just want to control who is allowed to view or edit the model.</p> <h2 id="creating-a-custom-manager"><a href="#creating-a-custom-manager" aria-hidden="true" class="header-anchor">#</a> Creating a custom manager</h2> <p>To create a custom manager extend one of the following:</p> <ul><li>ModuleManager (Module)</li> <li>PageManager (Page)</li> <li><a href="/package-docs/src/chief/advanced.html#advanced_model_management">AbstractManager</a> (advanced)</li></ul> <p>So let's create a custom manager and extend 'ModuleManager'.
This all works the same when you're extending the 'PageManager'.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// src/Modules/HeaderManager.php </span>

<span class="token keyword">class</span> <span class="token class-name">HeaderManager</span> <span class="token keyword">extends</span> <span class="token class-name">ModuleManager</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">fields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Fields
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Fields</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            InputField<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            TextField<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'bio'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Link your new manager to the your module in the 'ChiefProjectServiceProvider'.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// App\Providers\ChiefProjectServiceProvider.php</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">registerModule</span><span class="token punctuation">(</span>HeaderManager<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> Header<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>One thing you might want to do is add some managed fields.</p> <p>You can find all the possible fields <a href="/package-docs/src/chief/fields.html">here</a>.</p> <p>One important thing to remember is the name you define in the 'make()' function also corresponds to the database entry for all fields except for the Asset fields(Media, Document).
So don't forget to create a column in your database for each field you add here.</p> <h3 id="index-card"><a href="#index-card" aria-hidden="true" class="header-anchor">#</a> Index card</h3> <p>The cards you see on the index for a page or module can also be customized on the manager.
To do this implement the 'details()' function.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// src/Pages/CustomPageManager.php</span>

<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">details</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Details
<span class="token punctuation">{</span>
    <span class="token comment">// For existing model</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">model</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">details</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">,</span> <span class="token function">ucfirst</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">model</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">title</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'subtitle'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'subtitle'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'intro'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Updated on '</span> <span class="token punctuation">.</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">model</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">updated_at</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'d/m/Y H:i'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'context'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'&lt;span class=&quot;inline-xs stack-s&quot;&gt;'</span> <span class="token punctuation">.</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assistant</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'publish'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">publicationStatusAsLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'&lt;/span&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">details</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="authorization"><a href="#authorization" aria-hidden="true" class="header-anchor">#</a> Authorization</h3> <p>To prevent or allow certain roles to do CRUD on this model you can implement the 'can()' function.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">can</span><span class="token punctuation">(</span><span class="token variable">$verb</span><span class="token punctuation">)</span><span class="token punctuation">:</span> bool
<span class="token punctuation">{</span>
    <span class="token comment">// Do not allow creation</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$verb</span> <span class="token operator">==</span> <span class="token single-quoted-string string">'create'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">chiefAdmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'developer'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">can</span><span class="token punctuation">(</span><span class="token variable">$verb</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The default verbs are 'create', 'store', 'edit', 'update', 'delete', 'upload'.</p> <h3 id="pagination-a-manager-in-the-admin-panel"><a href="#pagination-a-manager-in-the-admin-panel" aria-hidden="true" class="header-anchor">#</a> Pagination a manager in the admin panel</h3> <p>Pagination in the admin panel can be activated on each manager.
To add pagination set a property $paginated to true and set $pageCount to the amount of items on a page.</p> <div class="language-php extra-class"><pre class="language-php"><code># AuthorManager.php

<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Management<span class="token punctuation">\</span>Manager</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Thinktomorrow<span class="token punctuation">\</span>Chief<span class="token punctuation">\</span>Management<span class="token punctuation">\</span>AbstractManager</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AuthorManager</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractManager</span> <span class="token keyword">implements</span> <span class="token class-name">Manager</span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token variable">$paginated</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token variable">$pageCount</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/19/2019, 11:07:33 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/package-docs/src/chief/basics.html" class="prev">
          Basics
        </a></span> <span class="next"><a href="/package-docs/src/chief/fields.html">
          Fields
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/package-docs/assets/js/13.aafeb11b.js" defer></script><script src="/package-docs/assets/js/app.133c9c72.js" defer></script>
  </body>
</html>
