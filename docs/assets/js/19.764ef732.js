(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{206:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("Chief follows the "),s("a",{attrs:{href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("semantic versioning"),s("OutboundLink")],1),t._v(" and we always try to maintain a backward compatible release cycle.\nNote that while development is still in the 0.* release cycle, minor versions will be able to contain breaking changes.")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("There are a couple of breaking changes in this upgrade. If you've done some advanced customisation, you're probably fine upgrading without too much hassle.")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("In version 0.2.14 you needed to define a registrationkey as the first parameter  per model/manager pair registration.\nThis first parameter is now renamed to managedModelKey and moved to the models.\nSo to get everything in line remove the first parameter from the registrations in your ChiefprojectServiceProvider.")]),t._v(" "),t._m(18),s("p",[t._v("And on the model you should add the managedModelKey and choose a relevant name.")]),t._v(" "),t._m(19),t._m(20),t._v(" "),s("p",[t._v("The labelSingular and labelPlural field are now only accepted on the model instead of both the model and the manager.")]),t._v(" "),s("p",[t._v("You should remove the declaration of these fields on the manager to their respective models.")]),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),s("p",[t._v("The following classes are removed or haved changed location:")]),t._v(" "),t._m(25),t._v(" "),s("p",[t._v("The following methods have been replaced:")]),t._v(" "),t._m(26),t._v(" "),t._m(27),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),s("p",[t._v("Due to the changes in url management you should make sure one of your pages has '/' as its url to identify it as the homepage.")]),t._v(" "),t._m(42),t._v(" "),s("p",[t._v("The biggest change and the one most likely to affect your project is the Assetlibrary update to 0.6 .\nFollow the assetlibrary upgrade documentation for this change. "),s("router-link",{attrs:{to:"./../assetlibrary/0.6/upgrading.html"}},[t._v("Assetlibrary Documentation")])],1),t._v(" "),t._m(43),t._v(" "),s("p",[t._v("0.4.7 introduces a new states logic for pages as well as a new api for Fields.\nThere are a couple of breaking changes in this upgrade. If you haven't done too much advanced customisation, you're probably fine upgrading without too much hassle.")]),t._v(" "),s("p",[t._v("Please visit the "),s("a",{attrs:{href:"https://github.com/thinktomorrow/chief/releases/tag/0.4.7",target:"_blank",rel:"noopener noreferrer"}},[t._v("changelog"),s("OutboundLink")],1),t._v(" for a list of all the major changes in this version.")]),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._m(62),t._v(" "),t._m(63)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"upgrading"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"releases"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#releases","aria-hidden":"true"}},[this._v("#")]),this._v(" Releases")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The latest version of Chief is "),e("code",[this._v("0.3.*")]),this._v(" which is the one being currently developed upon.\nPrevious versions will no longer be maintained with the exception for security fixes and critical bugfixes.\nIt is strongly recommended to upgrade to the latest "),e("code",[this._v("0.3")]),this._v(" version.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"versioning"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#versioning","aria-hidden":"true"}},[this._v("#")]),this._v(" Versioning")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"upgrading-from-0-2-14-to-0-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-from-0-2-14-to-0-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading from 0.2.14 to 0.3.*")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Set your composer package constraint to "),e("code",[this._v("thinktomorrow/chief: ^0.3")]),this._v(". Run "),e("code",[this._v("composer update thinktomorrow/chief")]),this._v(" command to get to the latest 0.3.* version.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If during the install any errors occur regarding files not existing please refer to the "),e("a",{attrs:{href:"#removals"}},[this._v("removals")]),this._v(" section, change the affected classes\nand run "),e("code",[this._v("composer install")]),this._v(" again.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Next update the chief assets by running "),e("code",[this._v("php artisan vendor:publish --tag=chief-assets --force")]),this._v(" in your project root.\nNote that with the force flag you'll update all existing chief style and script assets in your project.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"updated-config"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#updated-config","aria-hidden":"true"}},[this._v("#")]),this._v(" Updated config")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("There are some new configuration options added like "),s("code",[t._v("strict")]),t._v(", "),s("code",[t._v("route.autoload")]),t._v(", "),s("code",[t._v("route.name")]),t._v(" and "),s("code",[t._v("base-view-paths")]),t._v(".\nComplete your config file by adding the following values:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token shell-comment comment"}},[t._v("# /config/thinktomorrow/chief.php")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("/**\n * When chief is in strict mode, it exposes potential errors and warnings in your application.\n * Non-critical errors like non found urls or views. When such an error occurs in strict mode,\n * your app will throw an exception. Strict mode is by default only enabled in development.\n */")]),t._v("\n"),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'strict'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("env")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'APP_DEBUG'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'route'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("/**\n     * By default Chief will add the pages.show routing to your app. Since this is a catch-all route, it will be loaded last.\n     * If this conflicts with your project, set the autoload value to false. In this case you are responsible for handling the routing.\n     * Use the following route snippet as a starting point:\n     *\n     *      Route::get('{slug?}', function($slug = '/'){\n     *          return \\Thinktomorrow\\Chief\\Urls\\ChiefResponse::fromSlug($slug);\n     *      })->name('pages.show')->where('slug', '(.*)?');\n     *\n     */")]),t._v("\n    "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'autoload'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),s("span",{attrs:{class:"token comment"}},[t._v("/**\n     * Route name for the route that chief uses to listen and interact with\n     * a page request. It is set to `pages.show` but if this conflicts\n     * with your project naming conventions, you can change it here.\n     */")]),t._v("\n    "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages.show'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("/**\n * The Viewable::viewPath() method gives the view path for that specific model.\n * By default, we provide some sensible defaults for pages, modules and sets.\n * Here you define the relative base view path for these resp. models.\n */")]),t._v("\n"),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'base-view-paths'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages'")]),t._v("   "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'modules'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'modules'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sets'")]),t._v("    "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sets'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("chief-settings")]),this._v(" file is changed and now has the following values:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\n     "),s("span",{attrs:{class:"token comment"}},[t._v("/**\n      * Contact person (aka webmaster)\n      *\n      * The contact person receives all incoming communication e.g. contact form submissions\n      * and is the sender address for all transaction mails such as password reset mails.\n      */")]),t._v("\n     "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'contact_email'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("env")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'MAIL_ADMIN_EMAIL'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'info@thinktomorrow.be'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'contact_name'")]),t._v("  "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("env")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'MAIL_ADMIN_NAME'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'Think Tomorrow'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n     "),s("span",{attrs:{class:"token comment"}},[t._v("/**\n      * Client details\n      *\n      * This is mainly a backend thing but it can occur in a\n      * couple of frontend places such as the mail footer.\n      */")]),t._v("\n     "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'app_name'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'Chief'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"migrate-page-slugs-to-url-table"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#migrate-page-slugs-to-url-table","aria-hidden":"true"}},[this._v("#")]),this._v(" Migrate page slugs to url table")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The routing will still not work since there are no url entries yet. After installing the new version, you'll need to run migrations via "),e("code",[this._v("php artisan migrate")]),this._v(".\nThese migrations will also copy all page slugs and convert them to proper urls.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("page_translations.slug will be removed")]),this._v(" "),e("p",[this._v("Note that this migration removes the slug column on the page_translations table.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"changes-to-model-registration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changes-to-model-registration","aria-hidden":"true"}},[this._v("#")]),this._v(" Changes to model registration")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// version 0.2.14")]),t._v("\n"),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("registerPage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'singles'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PageManager"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Single"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// version 0.3")]),t._v("\n"),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("registerPage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PageManager"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Single"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$managedModelKey")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'singles'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"model-labels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#model-labels","aria-hidden":"true"}},[this._v("#")]),this._v(" Model labels")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"removals"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removals","aria-hidden":"true"}},[this._v("#")]),this._v(" Removals")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"routes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#routes","aria-hidden":"true"}},[this._v("#")]),this._v(" Routes")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The chief routes or now autoloaded so you can safely remove the chief routes in your project and the controller linked to these.\nIf you need to keep your own routing in place, make sure to set the chief setting "),e("code",[this._v("thinktomorrow.chief.route.autoload")]),this._v(" to "),e("code",[this._v("false")]),this._v(" so it will no longer autoload\nthis route.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"classes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#classes","aria-hidden":"true"}},[this._v("#")]),this._v(" Classes")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Interface "),s("code",[t._v("Thinktomorrow\\Chief\\Relations\\PresentForParent")]),t._v(" can be replaced with "),s("code",[t._v("Thinktomorrow\\Chief\\Concerns\\Viewable\\ViewableContract")]),t._v(".")]),t._v(" "),s("li",[t._v("Trait "),s("code",[t._v("Thinktomorrow\\Chief\\Relations\\PresentingForParent")]),t._v(" can be replaced with "),s("code",[t._v("Thinktomorrow\\Chief\\Concerns\\Viewable\\Viewable")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("Thinktomorrow\\Chief\\Concerns\\ProvidesUrl\\ProvidesUrl")]),t._v(" moved to "),s("code",[t._v("Thinktomorrow\\Chief\\Urls\\ProvidesUrl\\ProvidesUrl")]),t._v(".")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("The former method for rendering a view was "),s("code",[t._v("presentForParent(ActingAsParent $parent)")]),t._v(" and is no longer available. Use the "),s("code",[t._v("renderView()")]),t._v(" method instead.")]),t._v(" "),s("li",[t._v("The "),s("code",[t._v("view()")]),t._v(" method on the Page model is removed and "),s("code",[t._v("renderView()")]),t._v(" should be used instead. If you used this method in determining the frontend view, you should switch to the new response flow. See below.")]),t._v(" "),s("li",[t._v("The "),s("code",[t._v("Page::menuUrl()")]),t._v(" was deprecated in previous 0.2 version and is now removed in favor of the "),s("code",[t._v("Page::url()")]),t._v(" method.")]),t._v(" "),s("li",[s("code",[t._v("Page::hasPagebuilder()")]),t._v(" and "),s("code",[t._v("Page::pagebuilder")]),t._v(" were deprecated in 0.2 and are now removed. They are no longer used to determine if pagebuilder should be used or not. If you need to control the pagebuilder setup, you should adapt the "),s("code",[t._v("fields()")]),t._v(" return value instead.")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Page::findBySlug()")]),t._v(" and "),s("code",[t._v("Page::findPublishedBySlug()")]),t._v(".")]),t._v(" "),s("li",[t._v("Removed: Homepage setting and "),s("code",[t._v("chief-settings.homepage")]),t._v(" config value. A homepage is now determined by changing the page url to a '/'.")]),t._v(" "),s("li",[t._v("Added: ProvidesUrl now also required you to implement the resolveUrl function. The default to be used is the following:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("resolveUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string "),s("span",{attrs:{class:"token variable"}},[t._v("$locale")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("null")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("null")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token variable"}},[t._v("$routeName")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("config")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'thinktomorrow.chief.route.name'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("resolveRoute")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$routeName")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$locale")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"deprecations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecations","aria-hidden":"true"}},[this._v("#")]),this._v(" Deprecations")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The model data passed to the view, will now always be passed as a "),s("code",[t._v("$model")]),t._v(" or "),s("code",[t._v("$collection")]),t._v(" variable. Since 0.3 the "),s("code",[t._v("$page")]),t._v(", "),s("code",[t._v("$module")]),t._v(" and "),s("code",[t._v("$pages")]),t._v(" are deprecated.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"middleware-group-and-aliases-no-longer-required"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#middleware-group-and-aliases-no-longer-required","aria-hidden":"true"}},[this._v("#")]),this._v(" middleware group and aliases no longer required")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("web-chief")]),this._v(" middleware group is now autoloaded by the package. It is no longer needed to add this yourself in the "),e("code",[this._v("App\\Http\\Kernel")]),this._v(" file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The following route middleware aliases are no longer required to load up in your project. There are handled by the package itself.\n"),e("code",[this._v("auth.superadmin")]),this._v(",  "),e("code",[this._v("chief-guest")]),this._v(", "),e("code",[this._v("chief-validate-invite")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"removed-page-and-module-view-variables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removed-page-and-module-view-variables","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed: $page and $module view variables.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("The page or module is now passed as a "),s("code",[t._v("$model")]),t._v(" variable to the view. The "),s("code",[t._v("$page")]),t._v(", "),s("code",[t._v("$module")]),t._v(" and "),s("code",[t._v("$pages")]),t._v(" - as used by custom query sets - variables\nare set as deprecated and will be removed in 0.4.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"changed-default-viewpaths"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changed-default-viewpaths","aria-hidden":"true"}},[this._v("#")]),this._v(" Changed: default viewpaths")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The default page and module viewpaths no longer assume the "),e("code",[this._v("front")]),this._v(" folder. The default are now:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("pages: "),s("code",[t._v("resources/views/pages")]),t._v(",")]),t._v(" "),s("li",[t._v("modules: "),s("code",[t._v("resources/views/modules")]),t._v(",")]),t._v(" "),s("li",[t._v("sets: "),s("code",[t._v("resources/views/sets")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can change these to fit your project's needs in the "),e("code",[this._v("thinktomorrow.chief.base-view-paths")]),this._v(" config setting.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"changed-fieldarrangement"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changed-fieldarrangement","aria-hidden":"true"}},[this._v("#")]),this._v(" Changed: fieldArrangement()")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you've written a custom "),e("code",[this._v("Manager::fieldArrangement()")]),this._v(", chances are that you'll need to replace the "),e("code",[this._v("$this->fields")]),this._v(" presence in the method to "),e("code",[this._v("$this->fieldsWithAssistantFields()")]),this._v(".\nThis change is needed to include any optional assistant added fields as well.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"homepage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#homepage","aria-hidden":"true"}},[this._v("#")]),this._v(" Homepage")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"upgrading-from-0-3-to-0-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-from-0-3-to-0-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading from 0.3.* to 0.4.*")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"upgrading-from-0-4-6-to-0-4-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-from-0-4-6-to-0-4-7","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading from 0.4.6 to 0.4.7")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Set your composer package constraint to "),e("code",[this._v("thinktomorrow/chief: ^0.4.7")]),this._v(". Run "),e("code",[this._v("composer update thinktomorrow/chief")]),this._v(" command to get to the latest 0.4.* version.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If during the installation any errors occur regarding non existing classes or files, we recommend to first follow the "),e("a",{attrs:{href:"#upgrading-from-0-4-6-to-0-4-7"}},[this._v("upgrade guide")]),this._v(" below and afterwards try to run "),e("code",[this._v("composer update")]),this._v(" again.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Next update the chief assets by running "),e("code",[this._v("php artisan vendor:publish --tag=chief-assets --force")]),this._v(" in your project root.\nNote that with the force flag you'll update all existing chief style and script assets in your project.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"database"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#database","aria-hidden":"true"}},[this._v("#")]),this._v(" Database")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("First, we advice you to take a backup of the database prior to this migration.\nNext run "),e("code",[this._v("php artisan migrate")]),this._v(" to execute the database migrations. This will convert the old states to the new states setup in the database.\nNote that this is only done for the "),e("em",[this._v("pages")]),this._v(" table. If your project has other tables containing old state logic, you'll need to do the same migration. In this case, you can create\na new migration in your project based on "),e("code",[this._v("vendor/thinktomorrow/chief/database/migrations/2019_09_01_163503_add_page_states.php")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"pagestate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pagestate","aria-hidden":"true"}},[this._v("#")]),this._v(" Pagestate")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Custom models that make use of the page states such as "),s("em",[t._v("published")]),t._v(", "),s("em",[t._v("draft")]),t._v(" or "),s("em",[t._v("archived")]),t._v(", now need to implement the "),s("code",[t._v("Thinktomorrow\\Chief\\States\\State\\StatefulContract.php")]),t._v(".\nThis contract expects two methods "),s("code",[t._v("stateOf(string $key)")]),t._v(" and "),s("code",[t._v("changeStateOf(string $key, $state)")]),t._v(". As an example, the basic implementation for pages is this:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("stateOf")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$key")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token variable"}},[t._v("$key")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("changeStateOf")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$key")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$state")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$state")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("stateOf")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$key")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    PageState"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token function"}},[t._v("assertNewState")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$key")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$state")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token variable"}},[t._v("$key")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$state")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"manager-model"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#manager-model","aria-hidden":"true"}},[this._v("#")]),this._v(" Manager model")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The manager property "),s("em",[t._v("model")]),t._v(" is no longer encouraged to be used. Use the "),s("code",[t._v("existingModel()")]),t._v(" method to retrieve the model or "),s("code",[t._v("Manager::modelInstance()")]),t._v(" for an empty generic model instance.\nTo check that an existing model is available, you can use the "),s("code",[t._v("Manager::hasExistingModel()")]),t._v(" method.\nIf you have custom manager details - to show custom admin cards or page headers -, you might need to check for the models' existence first. An example from the PageManager can help you on your way:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("details")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Details\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// Show details in case the model exists")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("hasExistingModel")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("parent")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token function"}},[t._v("details")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'title'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("existingModel")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("title")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("ucfirst")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("existingModel")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("title")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("''")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'context'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("''")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// Show details in case no model exists yet - e.g. on create page.")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("parent")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token function"}},[t._v("details")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"mediafield"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mediafield","aria-hidden":"true"}},[this._v("#")]),this._v(" Mediafield")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("Thinktomorrow\\Chief\\Fields\\MediaField")]),this._v(" is now an abstract class and no longer available as a field. Replace its usage with "),e("code",[this._v("Thinktomorrow\\Chief\\Fields\\ImageField")]),this._v(" instead. This naming better reflects the image only aspect of this formfield.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("Thinktomorrow\\Chief\\Fields\\DocumentField")]),this._v(" is removed. Replace its usage with "),e("code",[this._v("Thinktomorrow\\Chief\\Fields\\FileField")]),this._v(" instead, which has the same behavior. It better reflects its nature because also images are allowed here.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"redactor-image-upload"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redactor-image-upload","aria-hidden":"true"}},[this._v("#")]),this._v(" Redactor image upload")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The redactor image upload now expects a payload of base64 encoded data urls. This allows for faster uploads via the wysiwyg editor.\nThere is a "),e("code",[this._v("chiefRedactorImageUpload")]),this._v(" function provided to be used in the redactor editor script file. You'll need to update your projects' editor settings.\nImplementation looks like this:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// resources/views/vendor/chief/back/_layouts/_editors/redactor/editor.blade.php")]),t._v("\n $"),s("span",{attrs:{class:"token constant"}},[t._v("R")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    @"),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token function"}},[t._v("isset")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$imageUploadUrl"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token operator"}},[t._v("!")]),s("span",{attrs:{class:"token function"}},[t._v("isset")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$disableImageUpload"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("!")]),t._v("$disableImageUpload"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        imageUpload"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("chiefRedactorImageUpload")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'{{ $imageUploadUrl }}'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    @endif\n "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"other-changes-and-removals"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#other-changes-and-removals","aria-hidden":"true"}},[this._v("#")]),this._v(" Other changes and removals")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Changed: File "),s("code",[t._v("Thinktomorrow\\Chief\\Concerns\\Publishable\\Publishable")]),t._v(" is moved to "),s("code",[t._v("Thinktomorrow\\Chief\\States\\Publishable\\Publishable")])]),t._v(" "),s("li",[t._v("Changed: File "),s("code",[t._v("Thinktomorrow\\Chief\\Concerns\\Archivable\\Archivable")]),t._v(" is moved to "),s("code",[t._v("Thinktomorrow\\Chief\\States\\Archivable\\Archivable")])]),t._v(" "),s("li",[t._v("Changed: "),s("code",[t._v("Field::multiple()")]),t._v(" is only used to set the multiple state. To retrieve this value, it is replaced by "),s("code",[t._v("Field::allowMultiple()")]),t._v(".")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Manager::model()")]),t._v(". You should either use "),s("code",[t._v("Manager::modelInstance()")]),t._v(" for an empty generic model instance or "),s("code",[t._v("Manager::existingModel()")]),t._v(" to retrieve the model record.")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Publishable::sortedByPublished")]),t._v(" is removed since it has no effect in sorting by published date.")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Field::getFieldValue()")]),t._v(". Use the new "),s("code",[t._v("Field::getValue(Model $model = null, ?string $locale = null)")]),t._v(" method instead.")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Field::key()")]),t._v(" is now only used to set a custom key.  To retrieve the key use the "),s("code",[t._v("Field::getKey()")]),t._v(" method.")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Field::name()")]),t._v(" is now only used to set a custom name.  To retrieve the name use the "),s("code",[t._v("Field::getName()")]),t._v(" method.")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Field::column()")]),t._v(" is now only used to set a custom column.  To retrieve the column use the "),s("code",[t._v("Field::getColumn()")]),t._v(" method.")]),t._v(" "),s("li",[t._v("Removed: "),s("code",[t._v("Field::default()")]),t._v(" method is removed. From now on, use "),s("code",[t._v("Field::value(string $value)")]),t._v(" to set the default value.")])])}],!1,null,null,null);n.options.__file="upgrading.md";e.default=n.exports}}]);