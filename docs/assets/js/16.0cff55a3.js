(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{173:function(a,t,s){"use strict";s.r(t);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"pages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pages","aria-hidden":"true"}},[a._v("#")]),a._v(" Pages")]),a._v(" "),s("h2",{attrs:{id:"required"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#required","aria-hidden":"true"}},[a._v("#")]),a._v(" Required")]),a._v(" "),s("p",[a._v("Make sure to set your namespace in the config "),s("code",[a._v("config/thinktomorrow/chief.php")]),a._v(".")]),a._v(" "),s("h1",{attrs:{id:"work-with-pages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#work-with-pages","aria-hidden":"true"}},[a._v("#")]),a._v(" Work with pages")]),a._v(" "),s("p",[a._v("Each page model should basically require:")]),a._v(" "),s("ul",[s("li",[a._v("routes")]),a._v(" "),s("li",[a._v("corresponding controllers")]),a._v(" "),s("li",[a._v("views.")])]),a._v(" "),s("p",[a._v("We recommend creating a PageController to manage the different page endpoints. Here's an example:")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("namespace")]),a._v(" "),s("span",{attrs:{class:"token package"}},[a._v("App"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Http"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Controllers")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),s("span",{attrs:{class:"token package"}},[a._v("Illuminate"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Http"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Request")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),s("span",{attrs:{class:"token package"}},[a._v("Thinktomorrow"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Chief"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Pages"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Page")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),s("span",{attrs:{class:"token package"}},[a._v("App"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Http"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Controllers"),s("span",{attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Controller")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("PageController")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("Controller")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{attrs:{class:"token function"}},[a._v("index")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{attrs:{class:"token function"}},[a._v("view")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[a._v("'pages.index'")]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n            "),s("span",{attrs:{class:"token single-quoted-string string"}},[a._v("'pages'")]),a._v(" "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("all")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{attrs:{class:"token function"}},[a._v("show")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Request "),s("span",{attrs:{class:"token variable"}},[a._v("$request")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{attrs:{class:"token function"}},[a._v("view")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[a._v("'pages.index'")]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n            "),s("span",{attrs:{class:"token single-quoted-string string"}},[a._v("'page'")]),a._v(" "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("findBySlug")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token variable"}},[a._v("$request")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token property"}},[a._v("slug")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("Create the necessary routes for each endpoint. By default, we assume the page routing has the following naming convention:\n"),s("code",[a._v("pages.index")]),a._v(", "),s("code",[a._v("pages.show")]),a._v(" (TODO: elaborate)")]),a._v(" "),s("h2",{attrs:{id:"adding-a-new-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-a-new-page","aria-hidden":"true"}},[a._v("#")]),a._v(" Adding a new page")]),a._v(" "),s("ul",[s("li",[a._v("create a new model and extend from the Page model like so:")])]),a._v(" "),s("h2",{attrs:{id:"setting-custom-fields"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setting-custom-fields","aria-hidden":"true"}},[a._v("#")]),a._v(" Setting custom fields")]),a._v(" "),s("p",[a._v("We can use squanto fields to include a way to manage static content. Squanto is the package that deals with static text management of the site.\nThe way you can aim these translations to a specific")]),a._v(" "),s("h2",{attrs:{id:"page-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#page-api","aria-hidden":"true"}},[a._v("#")]),a._v(" Page API")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("all")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Retrieves all the pages")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("findBySlug")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token variable"}},[a._v("$slug")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Retrieve a page by its unique slug value.")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("sortedByCreated")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("all")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Sort the results by last created pages.")]),a._v(" "),s("h2",{attrs:{id:"publishable-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#publishable-api","aria-hidden":"true"}},[a._v("#")]),a._v(" Publishable API")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("getAllPublished")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Retrieves all the published pages.")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("findPublishedBySlug")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token variable"}},[a._v("$slug")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Retrieve a published page by its unique slug value.\nIf the page is not published, no page will be returned.")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("sortedByPublished")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("all")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Sort the results by last created pages.")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[a._v("$page")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("isPublished")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Returns true of false based on the published status\nSee isDraft() for the inverse.")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[a._v("$page")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("isDraft")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Return true or false based on the draft status\nSee isPublished() for the inverse.")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[a._v("$page")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("publish")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Changes the page to published\nSee draft() for the inverse")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[a._v("$page")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("draft")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Changes the page to draft\nSee publish() for the inverse")]),a._v(" "),s("h2",{attrs:{id:"featurable-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#featurable-api","aria-hidden":"true"}},[a._v("#")]),a._v(" Featurable API")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[a._v("$page")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("isFeatured")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Returns true of false based on the featured status\nSee isDraft() for the inverse.")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[a._v("$page")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("feature")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Changes the page to featured\nSee unfeature() for the inverse")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[a._v("$page")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("unfeature")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Changes the page to not featured\nSee feature() for the inverse")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("Page"),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{attrs:{class:"token function"}},[a._v("featured")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token operator"}},[a._v("-")]),s("span",{attrs:{class:"token operator"}},[a._v(">")]),s("span",{attrs:{class:"token function"}},[a._v("all")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),s("p",[a._v("Scope the query by the featured pages.")]),a._v(" "),s("h2",{attrs:{id:"create-custom-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-custom-page","aria-hidden":"true"}},[a._v("#")]),a._v(" Create custom page")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("routing")])]),a._v(" "),s("li",[s("p",[a._v("model")])]),a._v(" "),s("li",[s("p",[a._v("controllers")])]),a._v(" "),s("li",[s("p",[a._v("views")])]),a._v(" "),s("li",[s("p",[a._v("custom traits / behaviour -> bit extreme")])])]),a._v(" "),s("p",[a._v("-> easy setup for new page element.... chief:page '<name>'")]),a._v(" "),s("h2",{attrs:{id:"todo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo","aria-hidden":"true"}},[a._v("#")]),a._v(" TODO")]),a._v(" "),s("ul",[s("li",[a._v("what is a page?")]),a._v(" "),s("li",[a._v("Single page")]),a._v(" "),s("li",[a._v("adding a new page (+ what's needs to be created)")]),a._v(" "),s("li",[a._v("customizing a page model\n"),s("ul",[s("li",[a._v("fields")]),a._v(" "),s("li",[a._v("media")])])]),a._v(" "),s("li",[a._v("detached page")])])])}],!1,null,null,null);e.options.__file="index.md";t.default=e.exports}}]);