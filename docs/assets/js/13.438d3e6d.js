(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{181:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"pages-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pages-modules","aria-hidden":"true"}},[t._v("#")]),t._v(" Pages & Modules")]),t._v(" "),s("h2",{attrs:{id:"what-is-a-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-a-page","aria-hidden":"true"}},[t._v("#")]),t._v(" What is a page?")]),t._v(" "),s("h2",{attrs:{id:"your-first-page-setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#your-first-page-setup","aria-hidden":"true"}},[t._v("#")]),t._v(" Your first page setup")]),t._v(" "),s("p",[t._v("The easy setup for a page is to create a model that extends the chief page class")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{attrs:{class:"token package"}},[t._v("Thinktomorrow"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chief"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Pages"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Page")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("FaqPage")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Page")]),t._v("\n")])])]),s("p",[t._v("The next step is to link the manager.")]),t._v(" "),s("p",[t._v("Linking the models to their managers is done in the ChiefProjectServiceProvider.")]),t._v(" "),s("p",[t._v("For convenience there is a default PageManager and ModuleManager.\nWe'll come back to creating our own managers in de advanced management section.")]),t._v(" "),s("p",[t._v("So linking our FaqPage would go as follows:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token variable"}},[t._v("$this")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("registerPage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'faq'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PageManager"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FaqPage"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("While we're in the ChiefProjectServiceProvider file we might as well set up our morphMap:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[t._v("Relation"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token function"}},[t._v("morphMap")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'faq'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" FaqPage"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("We do this mapping so we don't have to access the class by it's full path, in code or in DB.")]),t._v(" "),s("h2",{attrs:{id:"defining-the-view"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defining-the-view","aria-hidden":"true"}},[t._v("#")]),t._v(" Defining the view")]),t._v(" "),s("p",[t._v("There are a couple places we can put the view file for a page.\nThey will be used in order and will use the first one that exists.\nThe order is as follows:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("'front/PAGE_MORPHKEY/show'\n'front/pages/PAGE_MORPHKEY/show'\n'front/pages/show'\n'pages/show'\n")])])]),s("p",[t._v("So for instance for the FaqPage we set up in the previous section the views it searches are:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("'front/faq/show'\n'front/pages/faq/show'\n'front/pages/show'\n'pages/show'\n")])])]),s("h2",{attrs:{id:"adding-some-content"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-some-content","aria-hidden":"true"}},[t._v("#")]),t._v(" Adding some content")]),t._v(" "),s("h2",{attrs:{id:"creating-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-modules","aria-hidden":"true"}},[t._v("#")]),t._v(" Creating modules")]),t._v(" "),s("p",[t._v("To create a module you make a file in the src/Modules folder.\nThese modules should extend 'Thinktomorrow\\Chief\\Modules\\Module'.")]),t._v(" "),s("p",[t._v("To define the name of this module in the admin panel you can define the 'labelSingular' and 'labelPlural' property")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token php language-php"}},[s("span",{attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),s("span",{attrs:{class:"token package"}},[t._v("Project"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Modules")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{attrs:{class:"token package"}},[t._v("Thinktomorrow"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chief"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Common"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Collections"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("CollectionDetails")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{attrs:{class:"token package"}},[t._v("Thinktomorrow"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chief"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Modules"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Module")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Hero")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Module")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$labelSingular")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'hoofding'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$labelPlural")]),t._v("   "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'hoofdings'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("p",[t._v("The next thing to do is to add a reference to this module in the chief.php config file.")]),t._v(" "),s("p",[t._v("You will most often define it in 2 places in this config file.\nYou need to define the module in the collections array so the admin has knowledge of this new module.")]),t._v(" "),s("p",[t._v("The second place might not always be needed. If we define the module in the relations>children array\nthe module will be available to add to a page.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'relations'")]),t._v("   "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\n        "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'children'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            \\"),s("span",{attrs:{class:"token package"}},[t._v("Thinktomorrow"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chief"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Pages"),s("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Page")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            \n            Hero"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),s("span",{attrs:{class:"token comment"}},[t._v("/**\n     * Here you should provide the mapping of page and module collections. This\n     * is required for the class mapping from database to their respective classes.\n     */")]),t._v("\n    "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'collections'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{attrs:{class:"token comment"}},[t._v("// Modules")]),t._v("\n        "),s("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'heros'")]),t._v("        "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Hero"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h3",{attrs:{id:"customizing-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#customizing-modules","aria-hidden":"true"}},[t._v("#")]),t._v(" Customizing modules")]),t._v(" "),s("p",[t._v("Next to the module model where we can set the names to be used, we can also customize the view that would be used.")]),t._v(" "),s("p",[t._v("To create a view for this specific module, we create views/front/modules/hero.blade.php in this case.\nThe name of the view should be the same as the module type.")]),t._v(" "),s("p",[t._v("In this view we have access to the $module variable.\nAnd there's a few thing we have access to throught that.")]),t._v(" "),s("p",[t._v("We can get the title, content, and if we have media files attached we can retrieve them as you can see in the example below.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"hero"')]),t._v(" style"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"background: url({{ '),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token variable"}},[t._v("$module")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("mediaUrl")])]),t._v('(\\Thinktomorrow\\Chief\\Media\\MediaType::BACKGROUND) }}) no-repeat; background-size:cover; background-position:center;"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"container hero-title"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("h1 "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"text-white text-shade-on-white"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$module")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("title")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        @"),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$module")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("content")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"editor-content text-white text-shade-on-white text-2xl"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token operator"}},[t._v("!")]),s("span",{attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$module")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("content")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("!")]),s("span",{attrs:{class:"token operator"}},[t._v("!")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        @"),s("span",{attrs:{class:"token keyword"}},[t._v("endif")]),t._v("\n    "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h2",{attrs:{id:"defining-the-view-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defining-the-view-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Defining the view")]),t._v(" "),s("p",[t._v("There are a couple places we can put the view file for a page.\nThey will be used in order and will use the first one that exists.\nThe order is as follows:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("'front/modules/PARENT_MORPHKEY/PAGE_MORPHKEY'\n'front/modules/PAGE_MORPHKEY'\n'modules/PARENT_MORPHKEY/PAGE_MORPHKEY'\n'modules/PAGE_MORPHKEY'\n")])])]),s("p",[t._v("So for instance lets imagine a module 'contact' we want to style for the 'FaqPage' the views are as follows:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("'front/modules/faq/contact'\n'front/modules/contact'\n'modules/faq/contact'\n'modules/contact'\n")])])]),s("h3",{attrs:{id:"using-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-modules","aria-hidden":"true"}},[t._v("#")]),t._v(" Using Modules")]),t._v(" "),s("p",[t._v("Once this setup is done we can create instances of these modules from the admin panel.\nAnd following that to add them to a page, simple select them from the pagebuilder dropdown.")]),t._v(" "),s("h2",{attrs:{id:"adding-a-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-a-module","aria-hidden":"true"}},[t._v("#")]),t._v(" Adding a module")])])}],!1,null,null,null);n.options.__file="pages_modules.md";a.default=n.exports}}]);