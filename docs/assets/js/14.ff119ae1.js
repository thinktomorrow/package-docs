(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{185:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("p",[t._v("Chief follows the "),e("a",{attrs:{href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("semantic versioning"),e("OutboundLink")],1),t._v(" and we always try to maintain a backward compatible release cycle.\nNote that while development is still in the 0.* release cycle, minor versions will be able to contain breaking changes.")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),e("p",[t._v("There are a couple of breaking changes in this upgrade. If you've done some advanced customisation, you're probably fine upgrading without too much hassle.")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),e("p",[t._v("--\x3e php artisan migrate will . Backup your database beforehand.")]),t._v(" "),t._m(12),t._v(" "),e("p",[t._v("The following classes are removed\nTrait 'Thinktomorrow\\Chief\\Relations\\PresentingForParent' not found\nInterface 'Thinktomorrow\\Chief\\Relations\\PresentForParent' not found")]),t._v(" "),e("p",[t._v("Thinktomorrow\\Chief\\Concerns\\ProvidesUrl\\ProvidesUrl moved to")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),e("p",[t._v("Please pay extra attention if you recognize one of the following cases in your project:")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),e("p",[t._v("Page::url() is a method and no longer available as property.")]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),e("p",[t._v("The routing will still not work since there are no url entries yet. Let's fix this.\nWith the new url table, the existing page slugs, that are found in the page_translations table, need to be moved over to the chief_urls table.\nYou can set up a migration for this with basically the following code:")]),t._v(" "),t._m(40),t._m(41),t._v(" "),e("p",[t._v("You no longer determine the homepage via a config setting. You set the slug value to an empty string instead.")]),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),e("p",[t._v("Pay attention to the following changes:")]),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),e("p",[t._v("The Linking of managers to models has changed from the chief config file to a serviceprovider.\nLets first create our ChiefProjectServiceProvider and start linking our collection from the config file.")]),t._v(" "),e("p",[t._v("To link a page, use the provided PageManager.\nTo link a module, use the provided ModuleManager.\nYou can also define your own manager for custom classes. We will go into this custom manager later.")]),t._v(" "),e("p",[t._v("Before:")]),t._v(" "),t._m(50),e("p",[t._v("After:")]),t._v(" "),t._m(51),e("p",[t._v("Next up the ManagementDefaults have been removed and aside from implemementing the ModelManagers we now also extend from an AbstractManager.")]),t._v(" "),t._m(52),e("p",[t._v("If the model in question needs publishing or previewing functionality there are traits we can use and interfaces to implement.")]),t._v(" "),t._m(53)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"upgrading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#upgrading","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"releases"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#releases","aria-hidden":"true"}},[this._v("#")]),this._v(" Releases")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The latest version of Chief is "),s("code",[this._v("0.3.*")]),this._v(" which is the one being currently developed upon.\nPrevious versions will no longer be maintained with the exception for security fixes and critical bugfixes.\nIt is strongly recommended to upgrade to the latest version.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"versioning"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#versioning","aria-hidden":"true"}},[this._v("#")]),this._v(" Versioning")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"upgrading-from-0-2-14-to-0-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-from-0-2-14-to-0-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading from 0.2.14 to 0.3.*")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Set your composer package constraint to "),s("code",[this._v("thinktomorrow/chief: ^0.3")]),this._v(". Run "),s("code",[this._v("composer update thinktomorrow/chief")]),this._v(" command to get to the latest 0.3.* version.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Next update the chief assets by running "),s("code",[this._v("php artisan vendor:publish --tag=chief-assets --force")]),this._v(" in your project root.\nNote that with the force flag you'll update all existing chief style and script assets in your project.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"updated-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#updated-config","aria-hidden":"true"}},[this._v("#")]),this._v(" Updated config")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("There are some new configuration options added like "),e("code",[t._v("strict")]),t._v(", "),e("code",[t._v("route.autoload")]),t._v(", "),e("code",[t._v("route.name")]),t._v(" and "),e("code",[t._v("base-view-paths")]),t._v(".\nComplete your config file by adding the following values:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{attrs:{class:"token shell-comment comment"}},[t._v("# /config/thinktomorrow/chief.php")]),t._v("\n\n"),e("span",{attrs:{class:"token comment"}},[t._v("/**\n * A request can encounter non-critical errors like non found urls or views. When such an error occurs\n * in strict mode, your app will halt and showcase these errors. You should set this to true while\n * in development. We recommend to disable strict mode in production to suppress these errors.\n */")]),t._v("\n"),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'strict'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("env")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'APP_DEBUG'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token boolean"}},[t._v("false")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'route'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{attrs:{class:"token comment"}},[t._v("/**\n     * By default Chief will add the pages.show routing to your app. Since this is a catch-all route, it will be loaded last.\n     * If this conflicts with your project, set the autoload value to false. In this case you are responsible for handling the routing.\n     * Use the following route snippet as a starting point:\n     *\n     *      Route::get('{slug?}', function($slug = '/'){\n     *          return \\Thinktomorrow\\Chief\\Urls\\ChiefResponse::fromSlug($slug);\n     *      })->name('pages.show')->where('slug', '(.*)?');\n     *\n     */")]),t._v("\n    "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'autoload'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token boolean"}},[t._v("true")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("/**\n     * Route name for the route that chief uses to listen and interact with\n     * a page request. It is set to `pages.show` but if this conflicts\n     * with your project naming conventions, you can change it here.\n     */")]),t._v("\n    "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages.show'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),e("span",{attrs:{class:"token comment"}},[t._v("/**\n * The Viewable::viewPath() method gives the view path for that specific model.\n * By default, we provide some sensible defaults for pages, modules and sets.\n * Here you define the relative base view path for these resp. models.\n */")]),t._v("\n"),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'base-view-paths'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages'")]),t._v("   "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'modules'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'modules'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sets'")]),t._v("    "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sets'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"new-url-logic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new-url-logic","aria-hidden":"true"}},[this._v("#")]),this._v(" New url logic")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"removed-classes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed-classes","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed classes")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Implement the "),s("code",[this._v("ViewableContract")]),this._v(" if the model should be rendered on the site.\nImplement the "),s("code",[this._v("ProvidesUrl")]),this._v(" contract if the model needs to be accessed directly via an url.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"removed-pages-home-route"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed-pages-home-route","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed: pages.home route")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The "),s("code",[this._v("pages.home")]),this._v(" is no longer required in version 0.3. You are free to still use it in your project, it won't break anything. The Chief admin system\nwill no longer rely on this route to exist.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"removed-route-and-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed-route-and-controller","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed: route and controller")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("In version 0.3, the route declaration for the "),s("code",[this._v("pages.show")]),this._v(" is done via the ChiefServiceProvider. It is no longer\nnecessary to add this yourself to the project route file. If you need to keep your own routing in place, make\nsure to set the chief setting "),s("code",[this._v("thinktomorrow.chief.route.autoload")]),this._v(" to "),s("code",[this._v("false")]),this._v(" so it will no longer autoload\nthis route.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The PagesController is replaced by a "),s("code",[this._v("ChiefResponse")]),this._v(" class which takes care of interpreting and answering the request\nwith the proper model and view. Under the hood the following routing logic is being used:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("Route"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token function"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'{slug?}'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token variable"}},[t._v("$slug")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'/'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("use")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token variable"}},[t._v("$routeName")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ChiefResponse"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token function"}},[t._v("fromSlug")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token variable"}},[t._v("$slug")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token function"}},[t._v("name")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages.show'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token function"}},[t._v("where")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'slug'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'(.*)?'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"removed-page-menuurl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed-page-menuurl","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed: Page::menuUrl()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The "),s("code",[this._v("Page::menuUrl()")]),this._v(" was deprecated in previous 0.2 version and is now removed in favor of the "),s("code",[this._v("Page::url()")]),this._v(" method.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"removed-page-haspagebuilder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed-page-haspagebuilder","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed: "),s("code",[this._v("Page::hasPagebuilder()")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Page::hasPagebuilder()")]),this._v(" and "),s("code",[this._v("Page::pagebuilder")]),this._v(" were deprecated in 0.2 and are now removed. They are no longer used to determine if\npagebuilder should be used or not. If you need to control the pagebuilder setup, you should adapt the "),s("code",[this._v("fields()")]),this._v(" return value instead.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"removed-page-and-module-view-variables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed-page-and-module-view-variables","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed: $page and $module view variables.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("The page or module is now passed as a "),e("code",[t._v("$model")]),t._v(" variable to the view. The "),e("code",[t._v("$page")]),t._v(", "),e("code",[t._v("$module")]),t._v(" and "),e("code",[t._v("$pages")]),t._v(" - as used by custom query sets - variables\nare set as deprecated and will be removed in 0.4.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"changed-default-viewpaths"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changed-default-viewpaths","aria-hidden":"true"}},[this._v("#")]),this._v(" Changed: default viewpaths")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The default viewpaths no longer assume the "),s("code",[this._v("front")]),this._v(" folder. These are:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("pages: "),e("code",[t._v("resources/views/pages")]),t._v(",")]),t._v(" "),e("li",[t._v("modules: "),e("code",[t._v("resources/views/modules")]),t._v(",")]),t._v(" "),e("li",[t._v("sets: "),e("code",[t._v("resources/views/sets")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("You can change these to fit your project's needs in the "),s("code",[this._v("thinktomorrow.chief.base-view-paths")]),this._v(" config setting.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("you are using either the "),s("code",[this._v("PresentForParent")]),this._v(" contract or the "),s("code",[this._v("PresentingForParent")]),this._v(" trait.")]),this._v(" "),s("li")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"changed-don-t-use-magic-property-page-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changed-don-t-use-magic-property-page-url","aria-hidden":"true"}},[this._v("#")]),this._v(" Changed: Don't use magic property "),s("code",[this._v("Page::url")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"changed-fieldarrangement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changed-fieldarrangement","aria-hidden":"true"}},[this._v("#")]),this._v(" Changed: fieldArrangement()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If you've written a custom "),s("code",[this._v("Manager::fieldArrangement()")]),this._v(", chances are that you'll need to replace the "),s("code",[this._v("$this->fields")]),this._v(" presence in the method to "),s("code",[this._v("$this->fieldsWithAssistantFields()")]),this._v(".\nThis change is needed to include any assistant added fields as well.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"changed-pagescontroller-logic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changed-pagescontroller-logic","aria-hidden":"true"}},[this._v("#")]),this._v(" Changed PagesController logic")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"viewablecontract-replaces-presentforparent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#viewablecontract-replaces-presentforparent","aria-hidden":"true"}},[this._v("#")]),this._v(" ViewableContract replaces PresentForParent")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("The "),e("code",[t._v("Thinktomorrow\\Chief\\Relations\\PresentForParent")]),t._v(" interface is removed. It should be replaced by the "),e("code",[t._v("ViewableContract")]),t._v(" interface.\nThe former method for rendering a view was "),e("code",[t._v("presentForParent(ActingAsParent $parent)")]),t._v(" and is no longer available. Use the "),e("code",[t._v("renderView()")]),t._v(" method instead.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The "),s("code",[this._v("view()")]),this._v(" method on the Page model is removed and "),s("code",[this._v("renderView()")]),this._v(" should be used instead. If you used this method in determining the frontend view, you should switch to the new response flow. See below.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If you have used a custom view folders to structure your project view files, you'll need to change the base viewpaths for your models. Instead of defining the baseViewPath property on each model, we provided a way to define these for all pages, modules and sets at once in the config. There is a new config value\nin thinktomorrow.chief called "),s("code",[this._v("base-view-paths")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"migrate-page-slugs-to-url-table"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#migrate-page-slugs-to-url-table","aria-hidden":"true"}},[this._v("#")]),this._v(" Migrate page slugs to url table")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{attrs:{class:"token package"}},[t._v("Thinktomorrow"),e("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chief"),e("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Pages"),e("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Page")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{attrs:{class:"token package"}},[t._v("Thinktomorrow"),e("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chief"),e("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Urls"),e("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UrlRecord")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),e("span",{attrs:{class:"token keyword"}},[t._v("foreach")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Page"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token function"}},[t._v("all")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),e("span",{attrs:{class:"token variable"}},[t._v("$page")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("foreach")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token variable"}},[t._v("$page")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token property"}},[t._v("translations")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),e("span",{attrs:{class:"token variable"}},[t._v("$translation")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        UrlRecord"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token function"}},[t._v("create")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'locale'")]),t._v("     "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token variable"}},[t._v("$translation")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token property"}},[t._v("locale")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'slug'")]),t._v("       "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token variable"}},[t._v("$translation")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token property"}},[t._v("slug")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'model_type'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token variable"}},[t._v("$page")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token function"}},[t._v("morphKey")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'model_id'")]),t._v("   "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token variable"}},[t._v("$page")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token property"}},[t._v("id")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"removed-homepage-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed-homepage-config","aria-hidden":"true"}},[this._v("#")]),this._v(" Removed homepage config")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"added-base-view-paths-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#added-base-view-paths-config","aria-hidden":"true"}},[this._v("#")]),this._v(" Added base view paths config")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The base viewpaths for a page, module and set can be configured via a new parameter "),s("code",[this._v("base-view-paths")]),this._v(".\nThe default configuration looks like this:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{attrs:{class:"token shell-comment comment"}},[t._v("# config/thinktomorrow/chief.php")]),t._v("\n\n"),e("span",{attrs:{class:"token comment"}},[t._v("/**\n* Here you define the base view path for your pages, modules and sets. All module\n* views will be relative to this location. A sensible default has been set.\n* Note that is only is effect when not providing a custom viewPath.\n*/")]),t._v("\n"),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'base-view-paths'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'pages'")]),t._v("   "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'front.pages'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'modules'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'modules'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sets'")]),t._v("    "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sets'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"upgrading-from-0-1-to-0-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-from-0-1-to-0-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading from 0.1.* to 0.2.*")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The upgrade from 0.1 to 0.2 is not considered an official upgrade. This is because the "),s("code",[this._v("0.1")]),this._v(" version is a unsupported development phase. Nonetheless, we do have some key elements you should pay attention to while upgrading.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("First update the "),s("code",[this._v("thinktomorrow/chief")]),this._v(" dependency to "),s("code",[this._v("~0.2")]),this._v(" in your "),s("code",[this._v("composer.json")]),this._v(" file.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("You need to change a couple of migration entries due to assetlibrary major version upgrade. Table (squanto, media, asset) already exists: migrations table -> change the keys to the following : 2019_01_10_154910_create_asset_table, 2019_01_10_154909_create_media_table, 2019_01_10_154902_create_squanto_tables")]),this._v(" "),s("li",[this._v("assetlibrary 0.5 uses the name + conversion as filename. This is different from previous versions where this was not the default behaviour e.g. full.jpg becomes heroname-full.jpg")]),this._v(" "),s("li",[this._v("run migrations for extra default tables for asset library")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"updating-pre-refactor-managers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#updating-pre-refactor-managers","aria-hidden":"true"}},[this._v("#")]),this._v(" Updating pre-refactor managers")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{attrs:{class:"token shell-comment comment"}},[t._v("# config/chief.php")]),t._v("\n\n"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'collections'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{attrs:{class:"token comment"}},[t._v("// Pages")]),t._v("\n    "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'singles'")]),t._v("  "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Singles\\"),e("span",{attrs:{class:"token package"}},[t._v("Single")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("// Modules")]),t._v("\n    "),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'banner'")]),t._v("  "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Banner"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{attrs:{class:"token shell-comment comment"}},[t._v("# providers/ChiefProjectServiceProvider.php")]),t._v("\n\n"),e("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("boot")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token comment"}},[t._v("// Boot core registrations")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("parent")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token function"}},[t._v("boot")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("// Managers")]),t._v("\n    "),e("span",{attrs:{class:"token variable"}},[t._v("$this")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token function"}},[t._v("registerManager")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'singles'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PageManager"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Single"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("//Module Managers")]),t._v("\n    "),e("span",{attrs:{class:"token variable"}},[t._v("$this")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token function"}},[t._v("registerManager")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'banner'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ModuleManager"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Banner"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("//Custom Classes")]),t._v("\n    "),e("span",{attrs:{class:"token variable"}},[t._v("$this")]),e("span",{attrs:{class:"token operator"}},[t._v("-")]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token function"}},[t._v("registerManager")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'members'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MemberManager"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Member"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("MemberManager")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("AbstractManager")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("ModelManager")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("MemberManager")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("AbstractManager")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("ModelManager")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ManagerThatPublishes"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ManagerThatPreviews\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{attrs:{class:"token package"}},[t._v("ManagesPublishing")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        ManagesPreviews"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="upgrading.md";s.default=n.exports}}]);